{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///home/pjw75/tailwind/src/app/api/mock-oidc/mock-keys.js"],"sourcesContent":["// Shared RSA key pair used by the mock OIDC implementation. The public\n// portion is served through the JWKS endpoint while the private portion is\n// used to sign the id_token that NextAuth consumes.\nexport const MOCK_JWT_KID = \"mock-key\"\nexport const MOCK_JWT_ALG = \"RS256\"\n\nexport const publicJwk = {\n  kty: \"RSA\",\n  n: \"oma7G9Ls5H5vjY0f3kzESb0_5Bbsd-GTp-Uy1C9OgN2NN-tJnTEj6Y4DdsT8-plLCTFu5uEe6PEUFJEQqVqVkxn3Fr5U-dnbBPsEUSbD4XCifNF5yjt2-x3_8_01xCyb_df960LZEXUZq5Zjuy5JctvDUwjlVCxWkG2OXNhVOLKj8aQiuqlDSupYP-gSZzIi59NLRLDJGx5iaTVRoL38Yk2aVJEv5VQtRZq2QQMWawi1JWnQHADE2Ss6k_haTraFrjOXaAlQ_oOGiBeJ0SJgjkkzb0n69G2Id2MhSBOLM2DFgfkuydAy8sUQnQsqIgnHxHTBggFnsUax33Soktf-eQ\",\n  e: \"AQAB\",\n  kid: MOCK_JWT_KID,\n  use: \"sig\",\n  alg: MOCK_JWT_ALG,\n}\n\nexport const privateJwk = {\n  ...publicJwk,\n  d: \"Ox9xUPDaI1lQXVUaXADQmRPX1b7uuboa2k3b0lmil9GQnuH-u8ZvD5EO-8c9XjI-mgswF8evTBiwOciSK0V6HMKgLNx_7TH9xXNpH-4f88vgq9ZLI2_Aoi1KyFXPpCqlY6WloGeGxQ8_mDM4_aUdQj51fp5HdvxpS01HPc_YPrpdZ7QX6O4PrHONJKVSs_PMDDVurQpvvJehwdndTUhXc9wglF7f9MxFQ1k47Nv6_JdwZXzFNY2gU3J6d96ZG5VKjnRjeQzTVTpes6S66DDGPYpSja-Sx_DTTH1iYPucVoR4HJzHi6cqSeQCOk4jQra7RjF9L0u-3wfJaJl8CJSiHQ\",\n  p: \"3jtde7gqfWJEUsiGV8vdXpVY3eTlLftJVRtU2z5aChMZ7IHJIZNdSvgrpsc9Z_8gMUX2PIJHCD4D1xIpU2H53uyqklgEYqsysdR_hsTi2oVWysS3wUdAYYyLwBTVTTKVV9Qs4hlGAyMH1kVEBoIVmg32PZWJl_eFrUsi8vrU9g8\",\n  q: \"uxQBXTXpibLsJ7ElPen2uJV1aC_KGG-twYwc9zFexxPGSPK1TAI9gZmIzw28Xp5a0Zw_4lTisX1DVGrYrxxk3AVed2-_GRJvuPGTHP49EpR4TccOpFW-hrVxZ-86R40ZK0sYvzw7n981TYC1MWoBRNjPcgdju_7_FaKtOhgeCvc\",\n  dp: \"whuCRN0Qp-HcIZ6q0SbtHX8_VtlmYGpbnC26SaHFjYUvoIegQWZxF1l67zqZ5StPWBpuwF1eY9GfEwz28bDjSpbXSen9Mp2sMu2T0ghIyWur6oI2qmhs0IetTUIlKT-keEmIRpiisXy4jKyFhVW8PooxaYsi2ozFwx6c0TTMLHs\",\n  dq: \"FRkRelCdMOFTzrokqBHduD1qy0Awe4cEwoIpthsERFFPmGR-276Y7yfAjRFQgB89wMvtTHokQr4MvNV78Gu0WDfmynN4yrwQi3v7ClcFzjWeR68-UHw3C3wk-QK6wN0BzKcgeFizpLkIiuAMDzGUSQ5mfsakkcwVOnxpKtcTdEs\",\n  qi: \"Uf9qsNjuSZ2COsxoSEhHb594GpwnD-ew1fcpPGzliVv2FlkSsQrsNqGCoR2pOBpVdylgEQOr04VnXSwQtV01hbvp0ZDL0dcjvvnwziJrRzpiiItwvnVdfdr0qyjfD1plQgK0FUqj_uAV0ze7k31jLsRJ6p15TrYzH9JsdgFmLYs\",\n}\n"],"names":[],"mappings":"AAAA,uEAAuE;AACvE,2EAA2E;AAC3E,oDAAoD;;;;;;;;;;;AAC7C,MAAM,eAAe;AACrB,MAAM,eAAe;AAErB,MAAM,YAAY;IACvB,KAAK;IACL,GAAG;IACH,GAAG;IACH,KAAK;IACL,KAAK;IACL,KAAK;AACP;AAEO,MAAM,aAAa;IACxB,GAAG,SAAS;IACZ,GAAG;IACH,GAAG;IACH,GAAG;IACH,IAAI;IACJ,IAAI;IACJ,IAAI;AACN","debugId":null}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///home/pjw75/tailwind/src/app/api/mock-oidc/token/route.js"],"sourcesContent":["// src/app/api/mock-oidc/token/route.js\nimport { NextResponse } from \"next/server\"\nimport { SignJWT, importJWK } from \"jose\"\nimport { privateJwk, MOCK_JWT_ALG, MOCK_JWT_KID } from \"../mock-keys\"\n\nlet signingKeyPromise\n\nfunction buildIssuer(request) {\n  const url = new URL(request.url)\n  const basePath = url.pathname.replace(/\\/token$/, \"\")\n  return `${url.origin}${basePath.replace(/\\/$/, \"\")}`\n}\n\nasync function getSigningKey() {\n  if (!signingKeyPromise) {\n    signingKeyPromise = importJWK(privateJwk, MOCK_JWT_ALG)\n  }\n  return signingKeyPromise\n}\n\nasync function createIdToken({ request, clientId }) {\n  const issuer = buildIssuer(request)\n  const subject = \"mock-user\"\n\n  const jwt = await new SignJWT({\n    name: \"Demo User\",\n    preferred_username: \"demo.user\",\n    email: \"demo.user@example.com\",\n    picture: \"https://avatars.dicebear.com/api/initials/Demo%20User.svg\",\n  })\n    .setProtectedHeader({ alg: MOCK_JWT_ALG, kid: MOCK_JWT_KID, typ: \"JWT\" })\n    .setIssuer(issuer)\n    .setSubject(subject)\n    .setAudience(clientId)\n    .setIssuedAt()\n    .setExpirationTime(\"1h\")\n    .sign(await getSigningKey())\n\n  return jwt\n}\n\nasync function handle(request) {\n  const url = new URL(request.url)\n  let clientId = url.searchParams.get(\"client_id\") || \"\"\n\n  if (!clientId && request.method === \"POST\") {\n    try {\n      const formData = await request.formData()\n      clientId = formData.get(\"client_id\") || \"\"\n    } catch (error) {\n      // no-op, fall back to defaults\n    }\n  }\n\n  if (!clientId) {\n    clientId = \"demo-client\"\n  }\n\n  const accessToken = `mock-access-token-${Date.now()}`\n  const idToken = await createIdToken({ request, clientId })\n\n  return NextResponse.json({\n    access_token: accessToken,\n    token_type: \"Bearer\",\n    expires_in: 3600,\n    refresh_token: `mock-refresh-token-${Date.now()}`,\n    id_token: idToken,\n  })\n}\n\nexport const POST = handle\nexport const GET = handle\n"],"names":[],"mappings":"AAAA,uCAAuC;;;;;;;AACvC;AACA;AAAA;AACA;;;;AAEA,IAAI;AAEJ,SAAS,YAAY,OAAO;IAC1B,MAAM,MAAM,IAAI,IAAI,QAAQ,GAAG;IAC/B,MAAM,WAAW,IAAI,QAAQ,CAAC,OAAO,CAAC,YAAY;IAClD,OAAO,GAAG,IAAI,MAAM,GAAG,SAAS,OAAO,CAAC,OAAO,KAAK;AACtD;AAEA,eAAe;IACb,IAAI,CAAC,mBAAmB;QACtB,oBAAoB,IAAA,mOAAS,EAAC,6KAAU,EAAE,+KAAY;IACxD;IACA,OAAO;AACT;AAEA,eAAe,cAAc,EAAE,OAAO,EAAE,QAAQ,EAAE;IAChD,MAAM,SAAS,YAAY;IAC3B,MAAM,UAAU;IAEhB,MAAM,MAAM,MAAM,IAAI,+NAAO,CAAC;QAC5B,MAAM;QACN,oBAAoB;QACpB,OAAO;QACP,SAAS;IACX,GACG,kBAAkB,CAAC;QAAE,KAAK,+KAAY;QAAE,KAAK,+KAAY;QAAE,KAAK;IAAM,GACtE,SAAS,CAAC,QACV,UAAU,CAAC,SACX,WAAW,CAAC,UACZ,WAAW,GACX,iBAAiB,CAAC,MAClB,IAAI,CAAC,MAAM;IAEd,OAAO;AACT;AAEA,eAAe,OAAO,OAAO;IAC3B,MAAM,MAAM,IAAI,IAAI,QAAQ,GAAG;IAC/B,IAAI,WAAW,IAAI,YAAY,CAAC,GAAG,CAAC,gBAAgB;IAEpD,IAAI,CAAC,YAAY,QAAQ,MAAM,KAAK,QAAQ;QAC1C,IAAI;YACF,MAAM,WAAW,MAAM,QAAQ,QAAQ;YACvC,WAAW,SAAS,GAAG,CAAC,gBAAgB;QAC1C,EAAE,OAAO,OAAO;QACd,+BAA+B;QACjC;IACF;IAEA,IAAI,CAAC,UAAU;QACb,WAAW;IACb;IAEA,MAAM,cAAc,CAAC,kBAAkB,EAAE,KAAK,GAAG,IAAI;IACrD,MAAM,UAAU,MAAM,cAAc;QAAE;QAAS;IAAS;IAExD,OAAO,iXAAY,CAAC,IAAI,CAAC;QACvB,cAAc;QACd,YAAY;QACZ,YAAY;QACZ,eAAe,CAAC,mBAAmB,EAAE,KAAK,GAAG,IAAI;QACjD,UAAU;IACZ;AACF;AAEO,MAAM,OAAO;AACb,MAAM,MAAM","debugId":null}}]
}