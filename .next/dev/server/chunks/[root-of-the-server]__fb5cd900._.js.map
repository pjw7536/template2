{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///home/pjw75/tailwind/src/lib/auth/options.js"],"sourcesContent":["import CredentialsProvider from \"next-auth/providers/credentials\"\nimport OAuthProvider from \"next-auth/providers/oauth\"\n\n\nconst oidcIssuer = process.env.AUTH_OIDC_ISSUER\nconst oidcClientId = process.env.AUTH_OIDC_ID\nconst oidcClientSecret = process.env.AUTH_OIDC_SECRET\n\nconst providers = []\n\nif (oidcIssuer && oidcClientId && oidcClientSecret) {\n  providers.push(\n    OAuthProvider({\n      id: \"oidc\",\n      name: \"OIDC\",\n      issuer: oidcIssuer,\n      clientId: oidcClientId,\n      clientSecret: oidcClientSecret,\n      checks: [\"pkce\", \"state\"],\n      authorization: {\n        params: {\n          scope: \"openid profile email\",\n        },\n      },\n      profile(profile) {\n        return {\n          id: profile.sub ?? profile.id ?? profile.email ?? profile.preferred_username ?? \"oidc-user\",\n          name:\n            profile.name ??\n            profile.preferred_username ??\n            profile.given_name ??\n            profile.family_name ??\n            profile.email ??\n            \"OIDC User\",\n          email: profile.email ?? null,\n          image: profile.picture ?? null,\n        }\n      },\n    }),\n  )\n}\n\nconst dummyName = process.env.AUTH_DUMMY_NAME ?? \"Demo User\"\nconst dummyEmail = process.env.AUTH_DUMMY_EMAIL ?? \"demo@example.com\"\n\nproviders.push(\n  CredentialsProvider({\n    id: \"dummy\",\n    name: \"SSO\", // surfaced in debug logs only\n    credentials: {},\n    async authorize() {\n      return {\n        id: \"dummy-user\",\n        name: dummyName,\n        email: dummyEmail,\n      }\n    },\n  }),\n)\n\nexport const authOptions = {\n  secret: process.env.NEXTAUTH_SECRET,\n  session: {\n    strategy: \"jwt\",\n  },\n  providers,\n  pages: {\n    signIn: \"/login\",\n  },\n  callbacks: {\n    async jwt({ token, user }) {\n      if (user) {\n        token.user = {\n          id: user.id ?? token.sub ?? \"user\",\n          name: user.name ?? null,\n          email: user.email ?? null,\n          image: user.image ?? null,\n        }\n      }\n      return token\n    },\n    async session({ session, token }) {\n      if (token?.user) {\n        session.user = token.user\n      }\n      return session\n    },\n  },\n  // Allow credentials provider without HTTPS in dev\n  useSecureCookies: process.env.NODE_ENV === \"production\",\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAGA,MAAM,aAAa,QAAQ,GAAG,CAAC,gBAAgB;AAC/C,MAAM,eAAe,QAAQ,GAAG,CAAC,YAAY;AAC7C,MAAM,mBAAmB,QAAQ,GAAG,CAAC,gBAAgB;AAErD,MAAM,YAAY,EAAE;AAEpB,IAAI,cAAc,gBAAgB,kBAAkB;IAClD,UAAU,IAAI,CACZ,IAAA,uXAAa,EAAC;QACZ,IAAI;QACJ,MAAM;QACN,QAAQ;QACR,UAAU;QACV,cAAc;QACd,QAAQ;YAAC;YAAQ;SAAQ;QACzB,eAAe;YACb,QAAQ;gBACN,OAAO;YACT;QACF;QACA,SAAQ,OAAO;YACb,OAAO;gBACL,IAAI,QAAQ,GAAG,IAAI,QAAQ,EAAE,IAAI,QAAQ,KAAK,IAAI,QAAQ,kBAAkB,IAAI;gBAChF,MACE,QAAQ,IAAI,IACZ,QAAQ,kBAAkB,IAC1B,QAAQ,UAAU,IAClB,QAAQ,WAAW,IACnB,QAAQ,KAAK,IACb;gBACF,OAAO,QAAQ,KAAK,IAAI;gBACxB,OAAO,QAAQ,OAAO,IAAI;YAC5B;QACF;IACF;AAEJ;AAEA,MAAM,YAAY,QAAQ,GAAG,CAAC,eAAe,IAAI;AACjD,MAAM,aAAa,QAAQ,GAAG,CAAC,gBAAgB,IAAI;AAEnD,UAAU,IAAI,CACZ,IAAA,6XAAmB,EAAC;IAClB,IAAI;IACJ,MAAM;IACN,aAAa,CAAC;IACd,MAAM;QACJ,OAAO;YACL,IAAI;YACJ,MAAM;YACN,OAAO;QACT;IACF;AACF;AAGK,MAAM,cAAc;IACzB,QAAQ,QAAQ,GAAG,CAAC,eAAe;IACnC,SAAS;QACP,UAAU;IACZ;IACA;IACA,OAAO;QACL,QAAQ;IACV;IACA,WAAW;QACT,MAAM,KAAI,EAAE,KAAK,EAAE,IAAI,EAAE;YACvB,IAAI,MAAM;gBACR,MAAM,IAAI,GAAG;oBACX,IAAI,KAAK,EAAE,IAAI,MAAM,GAAG,IAAI;oBAC5B,MAAM,KAAK,IAAI,IAAI;oBACnB,OAAO,KAAK,KAAK,IAAI;oBACrB,OAAO,KAAK,KAAK,IAAI;gBACvB;YACF;YACA,OAAO;QACT;QACA,MAAM,SAAQ,EAAE,OAAO,EAAE,KAAK,EAAE;YAC9B,IAAI,OAAO,MAAM;gBACf,QAAQ,IAAI,GAAG,MAAM,IAAI;YAC3B;YACA,OAAO;QACT;IACF;IACA,kDAAkD;IAClD,kBAAkB,oDAAyB;AAC7C","debugId":null}},
    {"offset": {"line": 193, "column": 0}, "map": {"version":3,"sources":["file:///home/pjw75/tailwind/src/app/api/auth/%5B...nextauth%5D/route.js"],"sourcesContent":["import NextAuth from \"next-auth\"\n\nimport { authOptions } from \"@/lib/auth/options\"\n\nconst handler = NextAuth(authOptions)\n\nexport { handler as GET, handler as POST }\n"],"names":[],"mappings":";;;;;;AAAA;AAEA;;;AAEA,MAAM,UAAU,IAAA,0WAAQ,EAAC,0JAAW","debugId":null}}]
}