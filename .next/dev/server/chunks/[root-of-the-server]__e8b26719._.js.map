{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///home/pjw75/tailwind/src/app/api/mock-oidc/store.js"],"sourcesContent":["// src/app/api/mock-oidc/store.js\nconst issuedCodes = new Map()\n\nexport function saveAuthCode(code, payload) {\n  if (!code) return\n  issuedCodes.set(code, { ...payload, createdAt: Date.now() })\n}\n\nexport function consumeAuthCode(code) {\n  if (!code) return null\n  const payload = issuedCodes.get(code)\n  issuedCodes.delete(code)\n  return payload ?? null\n}\n"],"names":[],"mappings":"AAAA,iCAAiC;;;;;;;AACjC,MAAM,cAAc,IAAI;AAEjB,SAAS,aAAa,IAAI,EAAE,OAAO;IACxC,IAAI,CAAC,MAAM;IACX,YAAY,GAAG,CAAC,MAAM;QAAE,GAAG,OAAO;QAAE,WAAW,KAAK,GAAG;IAAG;AAC5D;AAEO,SAAS,gBAAgB,IAAI;IAClC,IAAI,CAAC,MAAM,OAAO;IAClB,MAAM,UAAU,YAAY,GAAG,CAAC;IAChC,YAAY,MAAM,CAAC;IACnB,OAAO,WAAW;AACpB","debugId":null}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///home/pjw75/tailwind/src/app/api/mock-oidc/authorize/route.js"],"sourcesContent":["// src/app/api/mock-oidc/authorize/route.js\nimport crypto from \"node:crypto\"\n\nimport { saveAuthCode } from \"../store\"\n\nconst DEFAULT_SCOPE = \"openid profile email\"\n\nexport function GET(request) {\n  const url = new URL(request.url)\n  const redirectUri = url.searchParams.get(\"redirect_uri\")\n  const state = url.searchParams.get(\"state\")\n  const nonce = url.searchParams.get(\"nonce\")\n  const scope = url.searchParams.get(\"scope\") || DEFAULT_SCOPE\n  const clientId = url.searchParams.get(\"client_id\") || \"demo-client\"\n\n  if (!redirectUri) {\n    return Response.json(\n      { error: \"invalid_request\", error_description: \"redirect_uri is required\" },\n      { status: 400 },\n    )\n  }\n\n  const code = crypto.randomUUID()\n  saveAuthCode(code, {\n    nonce,\n    scope,\n    clientId,\n  })\n\n  const callbackUrl = new URL(redirectUri)\n  callbackUrl.searchParams.set(\"code\", code)\n  if (state) {\n    callbackUrl.searchParams.set(\"state\", state)\n  }\n\n  return Response.redirect(callbackUrl.toString())\n}\n"],"names":[],"mappings":"AAAA,2CAA2C;;;;;AAC3C;AAEA;;;AAEA,MAAM,gBAAgB;AAEf,SAAS,IAAI,OAAO;IACzB,MAAM,MAAM,IAAI,IAAI,QAAQ,GAAG;IAC/B,MAAM,cAAc,IAAI,YAAY,CAAC,GAAG,CAAC;IACzC,MAAM,QAAQ,IAAI,YAAY,CAAC,GAAG,CAAC;IACnC,MAAM,QAAQ,IAAI,YAAY,CAAC,GAAG,CAAC;IACnC,MAAM,QAAQ,IAAI,YAAY,CAAC,GAAG,CAAC,YAAY;IAC/C,MAAM,WAAW,IAAI,YAAY,CAAC,GAAG,CAAC,gBAAgB;IAEtD,IAAI,CAAC,aAAa;QAChB,OAAO,SAAS,IAAI,CAClB;YAAE,OAAO;YAAmB,mBAAmB;QAA2B,GAC1E;YAAE,QAAQ;QAAI;IAElB;IAEA,MAAM,OAAO,gIAAM,CAAC,UAAU;IAC9B,IAAA,wKAAY,EAAC,MAAM;QACjB;QACA;QACA;IACF;IAEA,MAAM,cAAc,IAAI,IAAI;IAC5B,YAAY,YAAY,CAAC,GAAG,CAAC,QAAQ;IACrC,IAAI,OAAO;QACT,YAAY,YAAY,CAAC,GAAG,CAAC,SAAS;IACxC;IAEA,OAAO,SAAS,QAAQ,CAAC,YAAY,QAAQ;AAC/C","debugId":null}}]
}