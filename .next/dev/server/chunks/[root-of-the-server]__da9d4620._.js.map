{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///home/pjw75/tailwind/src/app/api/auth/login/route.js"],"sourcesContent":["// src/app/api/auth/login/route.js\nimport { NextResponse } from \"next/server\";\n\nconst DUMMY_USER = {\n  id: \"demo-user\",\n  name: \"Demo Operator\",\n  email: \"demo.operator@example.com\",\n  roles: [\"viewer\"],\n  locale: \"ko-KR\",\n};\n\nfunction buildSuccessPayload(providerId, returnUrl) {\n  const now = Date.now();\n  const expiresAt = new Date(now + 1000 * 60 * 60).toISOString();\n\n  return {\n    success: true,\n    providerId,\n    redirectUrl: returnUrl,\n    issuedAt: new Date(now).toISOString(),\n    tokens: {\n      idToken: \"dummy-id-token\",\n      accessToken: \"dummy-access-token\",\n      tokenType: \"Bearer\",\n      expiresAt,\n    },\n    user: DUMMY_USER,\n    message:\n      \"OpenID 더미 로그인에 성공했습니다. 실제 IdP와 연동 시 이 엔드포인트를 교체하세요.\",\n  };\n}\n\nexport async function POST(request) {\n  let providerId = \"unknown-provider\";\n  let returnUrl = \"/\";\n\n  try {\n    const body = await request.json();\n    providerId = body?.providerId ?? providerId;\n    returnUrl = body?.returnUrl ?? returnUrl;\n  } catch (error) {\n    // ignore malformed JSON and fall back to defaults\n  }\n\n  const payload = buildSuccessPayload(providerId, returnUrl);\n  return NextResponse.json(payload);\n}\n\nexport function GET(request) {\n  const { searchParams } = new URL(request.url);\n  const providerId = searchParams.get(\"providerId\") ?? \"unknown-provider\";\n  const returnUrl = searchParams.get(\"returnUrl\") ?? \"/\";\n\n  const payload = buildSuccessPayload(providerId, returnUrl);\n  return NextResponse.json(payload);\n}\n"],"names":[],"mappings":"AAAA,kCAAkC;;;;;;;AAClC;;AAEA,MAAM,aAAa;IACjB,IAAI;IACJ,MAAM;IACN,OAAO;IACP,OAAO;QAAC;KAAS;IACjB,QAAQ;AACV;AAEA,SAAS,oBAAoB,UAAU,EAAE,SAAS;IAChD,MAAM,MAAM,KAAK,GAAG;IACpB,MAAM,YAAY,IAAI,KAAK,MAAM,OAAO,KAAK,IAAI,WAAW;IAE5D,OAAO;QACL,SAAS;QACT;QACA,aAAa;QACb,UAAU,IAAI,KAAK,KAAK,WAAW;QACnC,QAAQ;YACN,SAAS;YACT,aAAa;YACb,WAAW;YACX;QACF;QACA,MAAM;QACN,SACE;IACJ;AACF;AAEO,eAAe,KAAK,OAAO;IAChC,IAAI,aAAa;IACjB,IAAI,YAAY;IAEhB,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,aAAa,MAAM,cAAc;QACjC,YAAY,MAAM,aAAa;IACjC,EAAE,OAAO,OAAO;IACd,kDAAkD;IACpD;IAEA,MAAM,UAAU,oBAAoB,YAAY;IAChD,OAAO,iXAAY,CAAC,IAAI,CAAC;AAC3B;AAEO,SAAS,IAAI,OAAO;IACzB,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;IAC5C,MAAM,aAAa,aAAa,GAAG,CAAC,iBAAiB;IACrD,MAAM,YAAY,aAAa,GAAG,CAAC,gBAAgB;IAEnD,MAAM,UAAU,oBAAoB,YAAY;IAChD,OAAO,iXAAY,CAAC,IAAI,CAAC;AAC3B","debugId":null}}]
}