{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/pjw75/tailwind/src/components/ui/table.jsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction TableContainer({\n  className,\n  children,\n  ...props\n}) {\n  return (\n    <div\n      data-slot=\"table-container\"\n      className={cn(\"relative w-full overflow-x-auto\", className)}\n      {...props}\n    >\n      {children}\n    </div>\n  );\n}\n\nfunction Table({\n  className,\n  stickyHeader,\n  ...props\n}) {\n  return (\n    <table\n      data-slot=\"table\"\n      data-sticky-header={stickyHeader ? \"true\" : undefined}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props} />\n  );\n}\n\nfunction TableHeader({\n  className,\n  ...props\n}) {\n  return (\n    <thead\n      data-slot=\"table-header\"\n      className={cn(\"[&_tr]:border-b\", className)}\n      {...props} />\n  );\n}\n\nfunction TableBody({\n  className,\n  ...props\n}) {\n  return (\n    <tbody\n      data-slot=\"table-body\"\n      className={cn(\"[&_tr:last-child]:border-0\", className)}\n      {...props} />\n  );\n}\n\nfunction TableFooter({\n  className,\n  ...props\n}) {\n  return (\n    <tfoot\n      data-slot=\"table-footer\"\n      className={cn(\"bg-muted/50 border-t font-medium [&>tr]:last:border-b-0\", className)}\n      {...props} />\n  );\n}\n\nfunction TableRow({\n  className,\n  ...props\n}) {\n  return (\n    <tr\n      data-slot=\"table-row\"\n      className={cn(\n        \"hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors\",\n        className\n      )}\n      {...props} />\n  );\n}\n\nfunction TableHead({\n  className,\n  ...props\n}) {\n  return (\n    <th\n      data-slot=\"table-head\"\n      className={cn(\n        \"text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props} />\n  );\n}\n\nfunction TableCell({\n  className,\n  ...props\n}) {\n  return (\n    <td\n      data-slot=\"table-cell\"\n      className={cn(\n        \"p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props} />\n  );\n}\n\nfunction TableCaption({\n  className,\n  ...props\n}) {\n  return (\n    <caption\n      data-slot=\"table-caption\"\n      className={cn(\"text-muted-foreground mt-4 text-sm\", className)}\n      {...props} />\n  );\n}\n\nexport {\n  Table,\n  TableContainer,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAEA;AAEA;AAJA;;;;AAMA,SAAS,eAAe,EACtB,SAAS,EACT,QAAQ,EACR,GAAG,OACJ;IACC,qBACE,0PAAC;QACC,aAAU;QACV,WAAW,IAAA,qIAAE,EAAC,mCAAmC;QAChD,GAAG,KAAK;kBAER;;;;;;AAGP;AAEA,SAAS,MAAM,EACb,SAAS,EACT,YAAY,EACZ,GAAG,OACJ;IACC,qBACE,0PAAC;QACC,aAAU;QACV,sBAAoB,eAAe,SAAS;QAC5C,WAAW,IAAA,qIAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,0PAAC;QACC,aAAU;QACV,WAAW,IAAA,qIAAE,EAAC,mBAAmB;QAChC,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,UAAU,EACjB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,0PAAC;QACC,aAAU;QACV,WAAW,IAAA,qIAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,0PAAC;QACC,aAAU;QACV,WAAW,IAAA,qIAAE,EAAC,2DAA2D;QACxE,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,0PAAC;QACC,aAAU;QACV,WAAW,IAAA,qIAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,UAAU,EACjB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,0PAAC;QACC,aAAU;QACV,WAAW,IAAA,qIAAE,EACX,sJACA;QAED,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,UAAU,EACjB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,0PAAC;QACC,aAAU;QACV,WAAW,IAAA,qIAAE,EACX,0GACA;QAED,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,0PAAC;QACC,aAAU;QACV,WAAW,IAAA,qIAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAEf","debugId":null}},
    {"offset": {"line": 137, "column": 0}, "map": {"version":3,"sources":["file:///home/pjw75/tailwind/src/features/line-dashboard/components/data-table/constants.js"],"sourcesContent":["export const DEFAULT_TABLE = \"drone_sop_v3\"\nexport const DEFAULT_RANGE_DAYS = 3\n\nconst DAY_IN_MS = 86_400_000\n\nexport const toDateInputValue = (date) => date.toISOString().split(\"T\")[0]\n\nexport const getDefaultFromValue = () => {\n  const now = new Date()\n  const from = new Date(now.getTime() - DEFAULT_RANGE_DAYS * DAY_IN_MS)\n  return toDateInputValue(from)\n}\n\nexport const getDefaultToValue = () => toDateInputValue(new Date())\n\nexport const SAVING_DELAY_MS = 180\nexport const MIN_SAVING_VISIBLE_MS = 500\nexport const SAVED_VISIBLE_MS = 800\n\nexport const STEP_COLUMN_KEYS = [\n  \"main_step\",\n  \"metro_steps\",\n  \"metro_current_step\",\n  \"metro_end_step\",\n  \"custom_end_step\",\n  \"inform_step\",\n]\n\nexport const STEP_COLUMN_KEY_SET = new Set(STEP_COLUMN_KEYS)\n\nexport const numberFormatter = new Intl.NumberFormat(\"en-US\")\nexport const timeFormatter = new Intl.DateTimeFormat(\"en-US\", {\n  hour: \"2-digit\",\n  minute: \"2-digit\",\n  second: \"2-digit\",\n})\n\nexport const dateFormatter = new Intl.DateTimeFormat(\"en-US\", {\n  year: \"numeric\",\n  month: \"2-digit\",\n  day: \"2-digit\",\n})\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAO,MAAM,gBAAgB;AACtB,MAAM,qBAAqB;AAElC,MAAM,YAAY;AAEX,MAAM,mBAAmB,CAAC,OAAS,KAAK,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;AAEnE,MAAM,sBAAsB;IACjC,MAAM,MAAM,IAAI;IAChB,MAAM,OAAO,IAAI,KAAK,IAAI,OAAO,KAAK,qBAAqB;IAC3D,OAAO,iBAAiB;AAC1B;AAEO,MAAM,oBAAoB,IAAM,iBAAiB,IAAI;AAErD,MAAM,kBAAkB;AACxB,MAAM,wBAAwB;AAC9B,MAAM,mBAAmB;AAEzB,MAAM,mBAAmB;IAC9B;IACA;IACA;IACA;IACA;IACA;CACD;AAEM,MAAM,sBAAsB,IAAI,IAAI;AAEpC,MAAM,kBAAkB,IAAI,KAAK,YAAY,CAAC;AAC9C,MAAM,gBAAgB,IAAI,KAAK,cAAc,CAAC,SAAS;IAC5D,MAAM;IACN,QAAQ;IACR,QAAQ;AACV;AAEO,MAAM,gBAAgB,IAAI,KAAK,cAAc,CAAC,SAAS;IAC5D,MAAM;IACN,OAAO;IACP,KAAK;AACP","debugId":null}},
    {"offset": {"line": 202, "column": 0}, "map": {"version":3,"sources":["file:///home/pjw75/tailwind/src/components/ui/dialog.jsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { XIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Dialog({\n  ...props\n}) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />;\n}\n\nfunction DialogTrigger({\n  ...props\n}) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />;\n}\n\nfunction DialogPortal({\n  ...props\n}) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />;\n}\n\nfunction DialogClose({\n  ...props\n}) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />;\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className\n      )}\n      {...props} />\n  );\n}\n\nfunction DialogContent({\n  className,\n  children,\n  showCloseButton = true,\n  ...props\n}) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\n          className\n        )}\n        {...props}>\n        {children}\n        {showCloseButton && (\n          <DialogPrimitive.Close\n            data-slot=\"dialog-close\"\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\">\n            <XIcon />\n            <span className=\"sr-only\">Close</span>\n          </DialogPrimitive.Close>\n        )}\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  );\n}\n\nfunction DialogHeader({\n  className,\n  ...props\n}) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props} />\n  );\n}\n\nfunction DialogFooter({\n  className,\n  ...props\n}) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\", className)}\n      {...props} />\n  );\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn(\"text-lg leading-none font-semibold\", className)}\n      {...props} />\n  );\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props} />\n  );\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OACJ;IACC,qBAAO,0PAAC,sLAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;AAEA,SAAS,cAAc,EACrB,GAAG,OACJ;IACC,qBAAO,0PAAC,yLAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;AAEA,SAAS,aAAa,EACpB,GAAG,OACJ;IACC,qBAAO,0PAAC,wLAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;AAEA,SAAS,YAAY,EACnB,GAAG,OACJ;IACC,qBAAO,0PAAC,uLAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,0PAAC,yLAAuB;QACtB,aAAU;QACV,WAAW,IAAA,qIAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,kBAAkB,IAAI,EACtB,GAAG,OACJ;IACC,qBACE,0PAAC;QAAa,aAAU;;0BACtB,0PAAC;;;;;0BACD,0PAAC,yLAAuB;gBACtB,aAAU;gBACV,WAAW,IAAA,qIAAE,EACX,+WACA;gBAED,GAAG,KAAK;;oBACR;oBACA,iCACC,0PAAC,uLAAqB;wBACpB,aAAU;wBACV,WAAU;;0CACV,0PAAC,qNAAK;;;;;0CACN,0PAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,0PAAC;QACC,aAAU;QACV,WAAW,IAAA,qIAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,0PAAC;QACC,aAAU;QACV,WAAW,IAAA,qIAAE,EAAC,0DAA0D;QACvE,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,0PAAC,uLAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qIAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,0PAAC,6LAA2B;QAC1B,aAAU;QACV,WAAW,IAAA,qIAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAEf","debugId":null}},
    {"offset": {"line": 386, "column": 0}, "map": {"version":3,"sources":["file:///home/pjw75/tailwind/src/features/line-dashboard/components/data-table/cells/comment-cell.jsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\n\nimport { Button } from \"@/components/ui/button\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\"\n\nexport function CommentCell({ meta, recordId, baseValue }) {\n  const isEditing = Boolean(meta.commentEditing[recordId])\n  const draftValue = meta.commentDrafts[recordId]\n  const value = isEditing ? draftValue ?? baseValue : baseValue\n  const isSaving = Boolean(meta.updatingCells[`${recordId}:comment`])\n  const errorMessage = meta.updateErrors[`${recordId}:comment`]\n  const indicator = meta.cellIndicators[`${recordId}:comment`]\n  const indicatorStatus = indicator?.status\n  const [showSuccessIndicator, setShowSuccessIndicator] = React.useState(false)\n  const successDismissTimerRef = React.useRef(null)\n\n  React.useEffect(() => {\n    if (!isEditing) {\n      setShowSuccessIndicator(false)\n      return\n    }\n\n    if (indicatorStatus === \"saving\") {\n      setShowSuccessIndicator(false)\n      return\n    }\n\n    if (indicatorStatus === \"saved\") {\n      setShowSuccessIndicator(true)\n      if (successDismissTimerRef.current) {\n        window.clearTimeout(successDismissTimerRef.current)\n      }\n      successDismissTimerRef.current = window.setTimeout(() => {\n        meta.setCommentEditingState(recordId, false)\n        meta.removeCommentDraftValue(recordId)\n        meta.clearUpdateError(`${recordId}:comment`)\n        setShowSuccessIndicator(false)\n        successDismissTimerRef.current = null\n      }, 800)\n    }\n\n    return () => {\n      if (successDismissTimerRef.current) {\n        window.clearTimeout(successDismissTimerRef.current)\n        successDismissTimerRef.current = null\n      }\n    }\n  }, [indicatorStatus, isEditing, meta, recordId])\n\n  const handleSave = async () => {\n    const nextValue = draftValue ?? baseValue\n    if (nextValue === baseValue) {\n      meta.setCommentEditingState(recordId, false)\n      meta.removeCommentDraftValue(recordId)\n      return\n    }\n    const success = await meta.handleUpdate(recordId, { comment: nextValue })\n    if (!success) {\n      return\n    }\n  }\n\n  const handleCancel = () => {\n    if (successDismissTimerRef.current) {\n      window.clearTimeout(successDismissTimerRef.current)\n      successDismissTimerRef.current = null\n    }\n    setShowSuccessIndicator(false)\n    meta.setCommentEditingState(recordId, false)\n    meta.removeCommentDraftValue(recordId)\n    meta.clearUpdateError(`${recordId}:comment`)\n  }\n\n  const renderDialogStatusMessage = () => {\n    if (errorMessage) {\n      return <div className=\"text-xs text-destructive\">{errorMessage}</div>\n    }\n    if (indicatorStatus === \"saving\") {\n      return <div className=\"text-xs text-muted-foreground\">Saving…</div>\n    }\n    if (indicatorStatus === \"saved\" && showSuccessIndicator) {\n      return <div className=\"text-xs text-emerald-600\">Saved</div>\n    }\n    return null\n  }\n\n  return (\n    <div className=\"flex flex-col gap-1\">\n      <Dialog\n        open={isEditing}\n        onOpenChange={(nextOpen) => {\n          if (nextOpen) {\n            meta.setCommentDraftValue(recordId, baseValue)\n            meta.setCommentEditingState(recordId, true)\n          } else {\n            meta.setCommentEditingState(recordId, false)\n            meta.removeCommentDraftValue(recordId)\n          }\n          meta.clearUpdateError(`${recordId}:comment`)\n        }}\n      >\n        <DialogTrigger asChild>\n          <button\n            type=\"button\"\n            className=\"whitespace-pre-wrap break-words rounded-md border border-transparent px-2 py-1 text-left text-sm transition-colors hover:border-border hover:bg-muted focus:outline-hidden focus-visible:ring-2 focus-visible:ring-ring\"\n          >\n            {baseValue.length > 0 ? (\n              baseValue\n            ) : (\n              <span className=\"text-muted-foreground\">Tap to add a comment</span>\n            )}\n          </button>\n        </DialogTrigger>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Edit comment</DialogTitle>\n          </DialogHeader>\n          <textarea\n            value={value}\n            disabled={isSaving}\n            onChange={(event) => {\n              const nextValue = event.target.value\n              meta.setCommentDraftValue(recordId, nextValue)\n              meta.clearUpdateError(`${recordId}:comment`)\n            }}\n            className=\"min-h-[6rem] resize-y rounded-md border border-input bg-background px-2 py-1 text-sm focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed\"\n            aria-label=\"Edit comment\"\n            autoFocus\n          />\n          {renderDialogStatusMessage()}\n          <DialogFooter>\n            <Button\n              onClick={() => {\n                void handleSave()\n              }}\n              disabled={isSaving}\n            >\n              Save\n            </Button>\n            <Button variant=\"outline\" onClick={handleCancel} disabled={isSaving}>\n              Cancel\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n      {/* Intentionally no inline status indicator. Status is shown within the dialog. */}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 621, "column": 0}, "map": {"version":3,"sources":["file:///home/pjw75/tailwind/src/components/ui/checkbox.jsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { CheckIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Checkbox({\n  className,\n  ...props\n}) {\n  return (\n    <CheckboxPrimitive.Root\n      data-slot=\"checkbox\"\n      className={cn(\n        \"peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}>\n      <CheckboxPrimitive.Indicator\n        data-slot=\"checkbox-indicator\"\n        className=\"grid place-content-center text-current transition-none\">\n        <CheckIcon className=\"size-3.5\" />\n      </CheckboxPrimitive.Indicator>\n    </CheckboxPrimitive.Root>\n  );\n}\n\nexport { Checkbox }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,0PAAC,wLAAsB;QACrB,aAAU;QACV,WAAW,IAAA,qIAAE,EACX,+eACA;QAED,GAAG,KAAK;kBACT,cAAA,0PAAC,6LAA2B;YAC1B,aAAU;YACV,WAAU;sBACV,cAAA,0PAAC,iOAAS;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI7B","debugId":null}},
    {"offset": {"line": 667, "column": 0}, "map": {"version":3,"sources":["file:///home/pjw75/tailwind/src/features/line-dashboard/components/data-table/cells/need-to-send-cell.jsx"],"sourcesContent":["\"use client\"\n\nimport { Checkbox } from \"@/components/ui/checkbox\"\nimport { cn } from \"@/lib/utils\"\n\nexport function NeedToSendCell({ meta, recordId, baseValue }) {\n  const draftValue = meta.needToSendDrafts[recordId]\n  const nextValue = draftValue ?? baseValue\n  const isChecked = Number(nextValue) === 1\n  const isSaving = Boolean(meta.updatingCells[`${recordId}:needtosend`])\n  const errorMessage = meta.updateErrors[`${recordId}:needtosend`]\n  const indicator = meta.cellIndicators[`${recordId}:needtosend`]\n  const indicatorStatus = indicator?.status\n\n  return (\n    <div className=\"flex flex-col gap-1\">\n      <div className=\"flex items-center gap-2\">\n        <Checkbox\n          checked={isChecked}\n          onCheckedChange={async (checked) => {\n            const numericNext = checked === true ? 1 : 0\n            if (numericNext === baseValue) {\n              meta.removeNeedToSendDraftValue(recordId)\n              meta.clearUpdateError(`${recordId}:needtosend`)\n              return\n            }\n            meta.setNeedToSendDraftValue(recordId, numericNext)\n            meta.clearUpdateError(`${recordId}:needtosend`)\n            const success = await meta.handleUpdate(recordId, {\n              needtosend: numericNext,\n            })\n            if (!success) {\n              meta.removeNeedToSendDraftValue(recordId)\n            }\n          }}\n          disabled={isSaving}\n          aria-label=\"Toggle need to send\"\n          className={cn(\n            // ✅ 체크 상태일 때 내부 배경/테두리/체크 색상 변경\n            \"data-[state=checked]:bg-emerald-500 data-[state=checked]:border-emerald-500\",\n            \"data-[state=checked]:text-white\" // 체크표시(✔) 색상 흰색\n          )}\n        />\n        <div className=\"flex flex-row items-center gap-1 text-xs text-muted-foreground\">\n          {isChecked ? \"Y\" : \"N\"}\n          {errorMessage ? (\n            <div className=\"text-xs text-destructive\">{errorMessage}</div>\n          ) : indicatorStatus === \"saving\" ? (\n            <div className=\"text-xs text-muted-foreground\">...</div>\n          ) : indicatorStatus === \"saved\" ? (\n            <div className=\"text-xs text-blue-600\">✓</div>\n          ) : null}\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKO,SAAS,eAAe,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE;IAC1D,MAAM,aAAa,KAAK,gBAAgB,CAAC,SAAS;IAClD,MAAM,YAAY,cAAc;IAChC,MAAM,YAAY,OAAO,eAAe;IACxC,MAAM,WAAW,QAAQ,KAAK,aAAa,CAAC,GAAG,SAAS,WAAW,CAAC,CAAC;IACrE,MAAM,eAAe,KAAK,YAAY,CAAC,GAAG,SAAS,WAAW,CAAC,CAAC;IAChE,MAAM,YAAY,KAAK,cAAc,CAAC,GAAG,SAAS,WAAW,CAAC,CAAC;IAC/D,MAAM,kBAAkB,WAAW;IAEnC,qBACE,0PAAC;QAAI,WAAU;kBACb,cAAA,0PAAC;YAAI,WAAU;;8BACb,0PAAC,4JAAQ;oBACP,SAAS;oBACT,iBAAiB,OAAO;wBACtB,MAAM,cAAc,YAAY,OAAO,IAAI;wBAC3C,IAAI,gBAAgB,WAAW;4BAC7B,KAAK,0BAA0B,CAAC;4BAChC,KAAK,gBAAgB,CAAC,GAAG,SAAS,WAAW,CAAC;4BAC9C;wBACF;wBACA,KAAK,uBAAuB,CAAC,UAAU;wBACvC,KAAK,gBAAgB,CAAC,GAAG,SAAS,WAAW,CAAC;wBAC9C,MAAM,UAAU,MAAM,KAAK,YAAY,CAAC,UAAU;4BAChD,YAAY;wBACd;wBACA,IAAI,CAAC,SAAS;4BACZ,KAAK,0BAA0B,CAAC;wBAClC;oBACF;oBACA,UAAU;oBACV,cAAW;oBACX,WAAW,IAAA,qIAAE,EACX,gCAAgC;oBAChC,+EACA,kCAAkC,gBAAgB;;;;;;;8BAGtD,0PAAC;oBAAI,WAAU;;wBACZ,YAAY,MAAM;wBAClB,6BACC,0PAAC;4BAAI,WAAU;sCAA4B;;;;;mCACzC,oBAAoB,yBACtB,0PAAC;4BAAI,WAAU;sCAAgC;;;;;mCAC7C,oBAAoB,wBACtB,0PAAC;4BAAI,WAAU;sCAAwB;;;;;mCACrC;;;;;;;;;;;;;;;;;;AAKd","debugId":null}},
    {"offset": {"line": 767, "column": 0}, "map": {"version":3,"sources":["file:///home/pjw75/tailwind/src/features/line-dashboard/components/data-table/utils.jsx"],"sourcesContent":["import { IconArrowNarrowRight } from \"@tabler/icons-react\"\nimport { cn } from \"@/lib/utils\"\n\nimport { STEP_COLUMN_KEY_SET } from \"./constants\"\n\n/* ============================================\n * 공통 상수\n * ============================================ */\n\n/** 길이가 긴 문자열을 줄여 보여줄지 결정할 기준(초과 시 작은 폰트로 표시) */\nconst LONG_STRING_THRESHOLD = 120\n\n/** metro_steps 문자열을 배열로 바꿀 때 사용할 구분자들 */\nconst STEP_SPLIT_REGEX = />|→|,|\\|/g\n\n/** NULL/빈문자열 시 보여줄 플레이스홀더 */\nconst PLACEHOLDER = {\n  null: <span className=\"text-muted-foreground\">NULL</span>,\n  emptyString: <span className=\"text-muted-foreground\">{\"\\\"\\\"\"}</span>,\n  noSteps: <span className=\"text-muted-foreground\">-</span>,\n}\n\n/* ============================================\n * 날짜/문자 유틸\n * ============================================ */\n\n/**\n * (표시용) 짧은 날짜 포맷으로 변환: MM/DD HH:mm\n * @param {Date} date 유효한 Date 인스턴스\n * @returns {string}\n */\nfunction formatShortDateTime(date) {\n  const month = String(date.getMonth() + 1).padStart(2, \"0\")\n  const day = String(date.getDate()).padStart(2, \"0\")\n  const hours = String(date.getHours()).padStart(2, \"0\")\n  const minutes = String(date.getMinutes()).padStart(2, \"0\")\n  return `${month}/${day} ${hours}:${minutes}`\n}\n\n/**\n * 문자열/Date 값을 Date로 파싱. 실패 시 null.\n * 허용 형식:\n *  - YYYY-MM-DD\n *  - YYYY-MM-DD HH:mm\n *  - YYYY-MM-DDTHH:mm(초/타임존 포함 가능)\n */\nfunction tryParseDate(value) {\n  if (value instanceof Date) {\n    return Number.isNaN(value.getTime()) ? null : value\n  }\n  if (typeof value === \"string\") {\n    const s = value.trim()\n    if (!s) return null\n\n    // 빠른 가드: 날짜 형태가 아니면 즉시 탈출\n    const looksLikeDateTime = /\\d{4}-\\d{2}-\\d{2}[T\\s]\\d{2}:\\d{2}/.test(s)\n    const looksLikeDateOnly = /\\d{4}-\\d{2}-\\d{2}$/.test(s)\n    if (!looksLikeDateTime && !looksLikeDateOnly) return null\n\n    const d = new Date(s)\n    return Number.isNaN(d.getTime()) ? null : d\n  }\n  return null\n}\n\n/**\n * 모든 타입을 소문자 문자열로 안전 변환 (검색용)\n * @param {any} v\n * @returns {string}\n */\nfunction toLowerSafeString(v) {\n  try {\n    if (v === null || v === undefined) return \"\"\n    if (typeof v === \"string\") return v.toLowerCase()\n    if (typeof v === \"number\" || typeof v === \"bigint\") return String(v).toLowerCase()\n    if (typeof v === \"boolean\") return v ? \"true\" : \"false\"\n    return JSON.stringify(v).toLowerCase()\n  } catch {\n    return String(v).toLowerCase()\n  }\n}\n\n/* ============================================\n * 셀 값 포맷터 / 검색 토큰\n * ============================================ */\n\n/**\n * 표 셀에 표시할 값 렌더링 (ReactNode 반환)\n * - null/undefined → 회색 \"NULL\"\n * - boolean → TRUE/FALSE\n * - number/bigint → 문자열화\n * - 날짜 문자열/객체 → MM/DD HH:mm\n * - string(빈문자) → 회색 \"\" 표시\n * - string(길이>LONG_STRING_THRESHOLD) → 작은 폰트로 프리랩\n * - 기타 → JSON.stringify 또는 String\n */\nexport function formatCellValue(value) {\n  if (value === null || value === undefined) return PLACEHOLDER.null\n  if (typeof value === \"boolean\") return value ? \"TRUE\" : \"FALSE\"\n  if (typeof value === \"number\" || typeof value === \"bigint\") return String(value)\n\n  // 날짜 처리: 문자열/Date 모두 tryParseDate 사용\n  const parsedDate = tryParseDate(value)\n  if (parsedDate) return formatShortDateTime(parsedDate)\n\n  if (typeof value === \"string\") {\n    if (value.length === 0) return PLACEHOLDER.emptyString\n    if (value.length > LONG_STRING_THRESHOLD) {\n      return (\n        <span className=\"whitespace-pre-wrap break-all text-xs leading-relaxed\">\n          {value}\n        </span>\n      )\n    }\n    return value\n  }\n\n  try {\n    return JSON.stringify(value)\n  } catch {\n    return String(value)\n  }\n}\n\n/**\n * 검색 인덱싱용 값 변환 (plain string)\n * - 날짜는 표시형(MM/DD HH:mm) + ISO 문자열을 함께 포함해 검색 확장\n */\nexport function searchableValue(value) {\n  if (value === null || value === undefined) return \"\"\n  const parsedDate = tryParseDate(value)\n  if (parsedDate) {\n    const human = formatShortDateTime(parsedDate)\n    return `${human} ${parsedDate.toISOString()}`.toLowerCase()\n  }\n  return toLowerSafeString(value)\n}\n\n/* ============================================\n * 스텝 관련 유틸\n * ============================================ */\n\n/**\n * 스텝 값 정규화: 문자열로 캐스팅 → 트림 → 빈문자면 null\n */\nexport function normalizeStepValue(value) {\n  if (value === null || value === undefined) return null\n  const normalized = String(value).trim()\n  return normalized.length > 0 ? normalized : null\n}\n\n/**\n * metro_steps → 문자열/배열 모두를 \"정규화된 문자열 배열\"로 통일\n * - 허용 구분자: '>', '→', ',', '|'\n * - 각 원소는 normalizeStepValue 거쳐 공백 제거\n * - falsy 원소 제거\n */\nexport function parseMetroSteps(value) {\n  if (Array.isArray(value)) {\n    return value\n      .map(normalizeStepValue)\n      .filter(Boolean)\n  }\n  if (typeof value === \"string\") {\n    return value\n      .split(STEP_SPLIT_REGEX)\n      .map(normalizeStepValue)\n      .filter(Boolean)\n  }\n  const single = normalizeStepValue(value)\n  return single ? [single] : []\n}\n\n/**\n * 배열의 순서를 유지한 채 중복 제거\n */\nfunction uniquePreserveOrder(arr) {\n  const seen = new Set()\n  const out = []\n  for (const x of arr) {\n    if (!seen.has(x)) {\n      seen.add(x)\n      out.push(x)\n    }\n  }\n  return out\n}\n/** 스텝 배지의 스타일 클래스를 결정\n * - main_step: 사각형 (rounded-none)\n * - current(현재 스텝): 연한 파란색 배경\n * - 그 외: 기본 스타일\n */\nfunction getStepPillClasses({ isMain, isCurrent }) {\n  return cn(\n    \"border px-2 py-0.5 text-xs font-medium leading-none\",\n    // 모서리: main이면 사각형, 아니면 pill\n    isMain ? \"rounded-sm\" : \"rounded-full\",\n    // 색상: 현재 스텝이면 연파랑, 아니면 기본\n    isCurrent\n      ? \"bg-blue-400 border-blue-600 text-blue-900\"\n      : \"bg-white border-border text-foreground\"\n  )\n}\n\n/** 스텝 플로우 렌더러 (규칙 반영본)\n * - main → metro_steps[] → inform 순서로 표시\n * - 현재 스텝(metro_current_step)은 연한 파란색 배경\n * - main_step은 모서리 없음(사각형)\n * - custom_end_step가 있으면 해당 스텝 아래에 'End' 라벨 표시\n */\nexport function renderMetroStepFlow(rowData) {\n  const mainStep = normalizeStepValue(rowData.main_step)\n  const metroSteps = parseMetroSteps(rowData.metro_steps)\n  const informStep = normalizeStepValue(rowData.inform_step)\n  const currentStep = normalizeStepValue(rowData.metro_current_step)\n  const customEndStep = normalizeStepValue(rowData.custom_end_step)\n  const metroEndStep = normalizeStepValue(rowData.metro_end_step)\n\n  // END 위치 결정 우선순위: custom_end_step > metro_end_step\n  const endStep = customEndStep || metroEndStep\n\n  const orderedSteps = uniquePreserveOrder([\n    ...(mainStep ? [mainStep] : []),\n    ...metroSteps,\n    ...(informStep ? [informStep] : []),\n  ])\n\n  if (orderedSteps.length === 0) return PLACEHOLDER.noSteps\n\n  const labelClasses = {\n    MAIN: \"text-[10px] leading-none text-muted-foreground\",\n    CustomEND: \"text-[10px] leading-none font-semibold text-blue-500\",\n    END: \"text-[10px] leading-none text-muted-foreground\"\n  }\n\n  return (\n    <div className=\"flex flex-wrap items-upper gap-1\">\n      {orderedSteps.map((step, index) => {\n        const isMain = mainStep ? step === mainStep : false\n        const isCurrent = currentStep ? step === currentStep : false\n\n        /** @type {string[]} */\n        const belowLabels = []\n        if (mainStep && step === mainStep) belowLabels.push(\"MAIN\")\n        if (informStep && step === informStep) belowLabels.push(\"END\")\n        if (endStep && step === endStep) belowLabels.push(\"CustomEND\")\n\n        return (\n          <div key={`${step}-${index}`} className=\"flex items-start gap-1\">\n            {index > 0 && (\n              <IconArrowNarrowRight className=\"size-4 shrink-0 text-muted-foreground mt-0.5\" />\n            )}\n\n            {/* 세로 스택: 스텝 배지 + 라벨 */}\n            <div className=\"flex flex-col items-center gap-0.5\">\n              <span className={getStepPillClasses({ isMain, isCurrent })}>\n                {step}\n              </span>\n\n              {belowLabels.map((label, i) => (\n                <span\n                  key={`${step}-label-${i}`}\n                  className={labelClasses[label] || \"text-[10px] leading-none text-muted-foreground\"}\n                >{label}</span>\n              ))}\n            </div>\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\n\n\n/* ============================================\n * 컬럼 결합 여부\n * ============================================ */\n\n/**\n * 스텝 관련 컬럼을 단일 flow 컬럼으로 합칠지 결정\n * - main_step 또는 metro_steps 둘 중 하나라도 있으면 true\n */\nexport function shouldCombineStepColumns(columns) {\n  return columns.some((key) =>\n    STEP_COLUMN_KEY_SET.has(key) && (key === \"main_step\" || key === \"metro_steps\")\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1035, "column": 0}, "map": {"version":3,"sources":["file:///home/pjw75/tailwind/src/features/line-dashboard/components/data-table/column-defs.jsx"],"sourcesContent":["// /src/features/line-dashboard/components/data-table/column-defs.jsx\n\"use client\"\n\nimport Link from \"next/link\"\nimport {\n  ExternalLink,\n  Check,\n  Circle,\n  CircleDot,\n  CircleCheck,\n} from \"lucide-react\"\n\nimport { STEP_COLUMN_KEY_SET } from \"./constants\"\nimport { CommentCell } from \"./cells/comment-cell\"\nimport { NeedToSendCell } from \"./cells/need-to-send-cell\"\nimport { formatCellValue, renderMetroStepFlow } from \"./utils\"\n\n/* =================================================================================\n * 구성 가능한 옵션 레이어 (UserConfig)\n * - 컬럼 순서/레이블/정렬 허용/정렬 타입/기본 너비/정렬 방향을 한 번에 커스터마이즈\n * - 필요 옵션만 넘기면 나머지는 기본값 사용\n * ================================================================================= */\n\n/**\n * @typedef {Object} UserConfig\n * @property {string[]} [order]                // 최종 컬럼 표시 순서(명시되지 않은 키는 뒤에 자동 배치)\n * @property {Record<string, string>} [labels] // 컬럼 표시이름 매핑 (key -> label)\n * @property {Record<string, boolean>} [sortable] // 각 컬럼 정렬 허용 여부 (true/false)\n * @property {Record<string, \"auto\"|\"text\"|\"number\"|\"datetime\">} [sortTypes] // 정렬 방식 지정\n * @property {Record<string, number>} [width]  // 각 컬럼 \"기본\" 너비(px) 힌트\n * @property {string} [processFlowHeader]      // 병합 스텝컬럼 라벨 (기본: \"process_flow\")\n * @property {Record<string, \"left\"|\"center\"|\"right\">} [cellAlign]   // 셀 정렬 방향\n * @property {Record<string, \"left\"|\"center\"|\"right\">} [headerAlign] // 헤더 정렬 방향 (없으면 셀과 동일)\n */\n\n/* ----------------------- 기본 사이즈 정책 -----------------------\n * - size: 초기/기본 폭\n * - minSize/maxSize: 사용자 리사이즈 시 허용 범위\n *   (TanStack Table v8은 size 힌트를 바인딩하면 리사이저/colgroup과 함께 안정적으로 반영됨)\n */\nconst DEFAULT_MIN_WIDTH = 72\nconst DEFAULT_MAX_WIDTH = 480\nconst DEFAULT_TEXT_WIDTH = 140\nconst DEFAULT_NUMBER_WIDTH = 110\nconst DEFAULT_ID_WIDTH = 130\nconst DEFAULT_DATE_WIDTH = 100\nconst DEFAULT_BOOL_ICON_WIDTH = 60\nconst DEFAULT_PROCESS_FLOW_WIDTH = 360\n\n/** 기본 설정 */\nconst DEFAULT_CONFIG = /** @type {UserConfig} */ ({\n  // 제공 시 해당 순서를 우선(명시되지 않은 키는 뒤에 자동 배치)\n  order: [\n    \"created_at\",\n    \"line_id\",\n    \"sdwt_prod\",\n    \"EQP_CB\",\n    \"proc_id\",\n    \"ppid\",\n    \"sample_type\",\n    \"sample_group\",\n    \"lot_id\",\n    \"status\",\n    \"comment\",\n    \"process_flow\",\n    \"needtosend\",\n    \"send_jira\",\n    \"informed_at\",\n    \"user_sdwt_prod\",\n  ],\n\n  // 표시 이름 기본 매핑 (원하면 userConfig.labels로 덮어쓰기)\n  labels: {\n    defect_url: \"Defect\",\n    comment: \"Comment\",\n    needtosend: \"예약\",\n    send_jira: \"JIRA\",\n    status: \"Status\",\n    knoxid: \"KnoxID\",\n    process_flow: \"Process Flow\",\n  },\n\n  // 기본 정렬 허용/비허용\n  sortable: {\n    defect_url: false,\n    comment: true,\n    needtosend: true,\n    send_jira: true,\n    status: true,\n  },\n\n  // 기본 정렬 타입: 지정 없으면 \"auto\"\n  sortTypes: {\n    comment: \"text\",\n    needtosend: \"number\",\n    send_jira: \"number\",\n    status: \"text\",\n    // 기타 컬럼은 auto 추론\n  },\n\n  // ⛳ 기본 폭 힌트 (없으면 타입/키명 기반으로 안전한 기본값 추론)\n  width: {\n    // 아이콘/불린류\n    needtosend: DEFAULT_BOOL_ICON_WIDTH,\n    send_jira: DEFAULT_BOOL_ICON_WIDTH,\n    status: 150,\n\n    // 식별자/ID류\n    line_id: 90,\n    lot_id: 90,\n    sample_type: 150,\n\n    // 긴 텍스트\n    comment: 350,\n\n    // 스텝 플로우(병합 컬럼)\n    process_flow: 600,\n    user_sdwt_prod: 150,\n  },\n\n  // 병합 스텝 라벨\n  processFlowHeader: \"process_flow\",\n\n  // 정렬 방향\n  cellAlign: {\n    line_id: \"center\",\n    EQP_CB: \"center\",\n    lot_id: \"center\",\n    defect_url: \"center\",\n    send_jira: \"center\",\n    status: \"center\",\n    needtosend: \"center\",\n    sdwt_prod: \"center\",\n    sample_type: \"center\",\n    sample_group: \"center\",\n    knoxid: \"center\",\n    user_sdwt_prod: \"center\",\n    ppid: \"center\",\n  },\n  headerAlign: {\n    needtosend: \"center\",\n    send_jira: \"center\",\n    status: \"center\",\n    knoxid: \"center\",\n    user_sdwt_prod: \"center\",\n    sample_type: \"center\",\n    sample_group: \"center\",\n    ppid: \"center\",\n  },\n})\n\n/** config 병합 유틸 */\nfunction mergeConfig(userConfig) {\n  const u = userConfig ?? {}\n  return {\n    order: u.order ?? DEFAULT_CONFIG.order,\n    labels: { ...DEFAULT_CONFIG.labels, ...(u.labels ?? {}) },\n    sortable: { ...DEFAULT_CONFIG.sortable, ...(u.sortable ?? {}) },\n    sortTypes: { ...DEFAULT_CONFIG.sortTypes, ...(u.sortTypes ?? {}) },\n    width: { ...DEFAULT_CONFIG.width, ...(u.width ?? {}) },\n    processFlowHeader: u.processFlowHeader ?? DEFAULT_CONFIG.processFlowHeader,\n    cellAlign: { ...DEFAULT_CONFIG.cellAlign, ...(u.cellAlign ?? {}) },\n    headerAlign: { ...DEFAULT_CONFIG.headerAlign, ...(u.headerAlign ?? {}) },\n  }\n}\n\n/* =================================================================================\n * 공통 유틸\n * ================================================================================= */\n\nfunction toHttpUrl(raw) {\n  if (raw == null) return null\n  const s = String(raw).trim()\n  if (!s) return null\n  if (/^https?:\\/\\//i.test(s)) return s\n  return `https://${s}`\n}\n\nfunction getRecordId(rowOriginal) {\n  const rawId = rowOriginal?.id\n  if (rawId === undefined || rawId === null) return null\n  return String(rawId)\n}\n\nfunction normalizeComment(raw) {\n  if (typeof raw === \"string\") return raw\n  if (raw == null) return \"\"\n  return String(raw)\n}\n\nfunction normalizeNeedToSend(raw) {\n  if (typeof raw === \"number\" && Number.isFinite(raw)) return raw\n  if (typeof raw === \"string\") {\n    const n = Number.parseInt(raw, 10)\n    return Number.isFinite(n) ? n : 0\n  }\n  const n = Number(raw)\n  return Number.isFinite(n) ? n : 0\n}\n\n/** ✅ '1'만 참으로, 그 외(0, \".\", \"\", null, undefined)는 거짓 */\nfunction normalizeBinaryFlag(raw) {\n  if (raw === 1 || raw === \"1\") return true\n  if (raw === \".\" || raw === \"\" || raw == null) return false\n  const n = Number(raw)\n  return Number.isFinite(n) ? n === 1 : false\n}\n\n/** STATUS 문자열 표준화 */\nfunction normalizeStatus(raw) {\n  if (raw == null) return null\n  const s = String(raw).trim().toUpperCase().replace(/\\s+/g, \"_\")\n  if (s === \"MAIN_COMPLTE\") return \"MAIN_COMPLETE\" // 오타 보정\n  return s\n}\n\n/* =================================================================================\n * 정렬 유틸 (TanStack v8의 sortingFn에 comparator 제공)\n * ================================================================================= */\n\nfunction isNumeric(value) {\n  if (value == null || value === \"\") return false\n  const n = Number(value)\n  return Number.isFinite(n)\n}\n\nfunction tryDate(value) {\n  if (value instanceof Date) return Number.isNaN(value.getTime()) ? null : value\n  if (typeof value === \"string\") {\n    const t = Date.parse(value)\n    return Number.isNaN(t) ? null : new Date(t)\n  }\n  return null\n}\n\nfunction cmpText(a, b) {\n  const sa = a == null ? \"\" : String(a)\n  const sb = b == null ? \"\" : String(b)\n  return sa.localeCompare(sb)\n}\n\nfunction cmpNumber(a, b) {\n  const na = Number(a)\n  const nb = Number(b)\n  if (!Number.isFinite(na) && !Number.isFinite(nb)) return 0\n  if (!Number.isFinite(na)) return -1\n  if (!Number.isFinite(nb)) return 1\n  return na - nb\n}\n\nfunction cmpDate(a, b) {\n  const da = tryDate(a)\n  const db = tryDate(b)\n  if (!da && !db) return 0\n  if (!da) return -1\n  if (!db) return 1\n  return da.getTime() - db.getTime()\n}\n\n/** 정렬 방식 auto 추론 */\nfunction autoSortType(sample) {\n  if (sample == null) return \"text\"\n  if (isNumeric(sample)) return \"number\"\n  if (tryDate(sample)) return \"datetime\"\n  return \"text\"\n}\n\n/* =================================================================================\n * 정렬 방향(Alignment) 유틸\n * ================================================================================= */\n\nconst ALIGNMENT_VALUES = new Set([\"left\", \"center\", \"right\"])\n\nfunction normalizeAlignment(value, fallback = \"left\") {\n  if (typeof value !== \"string\") return fallback\n  const lower = value.toLowerCase()\n  return ALIGNMENT_VALUES.has(lower) ? lower : fallback\n}\n\nfunction inferDefaultAlignment(colKey, sampleValue) {\n  if (typeof sampleValue === \"number\") return \"right\"\n  if (isNumeric(sampleValue)) return \"right\"\n  if (colKey && /(_?id|count|qty|amount|number)$/i.test(colKey)) return \"right\"\n  return \"left\"\n}\n\nfunction resolveAlignment(colKey, config, sampleValue) {\n  const inferred = inferDefaultAlignment(colKey, sampleValue)\n  const cellAlignment = normalizeAlignment(config.cellAlign?.[colKey], inferred)\n  const headerAlignment = normalizeAlignment(config.headerAlign?.[colKey], cellAlignment)\n  return { cell: cellAlignment, header: headerAlignment }\n}\n\n/** 정렬 comparator를 반환 */\nfunction getSortingFnForKey(colKey, config, sampleValue) {\n  const t = (config.sortTypes && config.sortTypes[colKey]) || \"auto\"\n  const sortType = t === \"auto\" ? autoSortType(sampleValue) : t\n\n  if (sortType === \"number\") return (rowA, rowB) => cmpNumber(rowA.getValue(colKey), rowB.getValue(colKey))\n  if (sortType === \"datetime\") return (rowA, rowB) => cmpDate(rowA.getValue(colKey), rowB.getValue(colKey))\n  // 기본 text\n  return (rowA, rowB) => cmpText(rowA.getValue(colKey), rowB.getValue(colKey))\n}\n\n/* =================================================================================\n * 컬럼 width 유틸: 타입/키 기반 기본 폭 자동 추론 + 범위 클램프\n * ================================================================================= */\n\n/** 숫자/날짜/ID/불린/텍스트에 따라 안전한 기본 폭을 제시 */\nfunction inferDefaultWidth(colKey, sampleValue) {\n  if (colKey === \"process_flow\") return DEFAULT_PROCESS_FLOW_WIDTH\n  if (colKey === \"needtosend\" || colKey === \"send_jira\") return DEFAULT_BOOL_ICON_WIDTH\n  if (/(_?id)$/i.test(colKey)) return DEFAULT_ID_WIDTH\n\n  if (tryDate(sampleValue)) return DEFAULT_DATE_WIDTH\n  if (isNumeric(sampleValue)) return DEFAULT_NUMBER_WIDTH\n\n  // 기본 텍스트\n  return DEFAULT_TEXT_WIDTH\n}\n\n/** 안전한 px 숫자만 허용 */\nfunction toSafeNumber(n, fallback) {\n  const v = Number(n)\n  return Number.isFinite(v) && v > 0 ? v : fallback\n}\n\n/** 최종 size/min/max 산출 */\nfunction resolveColumnSizes(colKey, config, sampleValue) {\n  const base = config.width?.[colKey]\n  const inferred = inferDefaultWidth(colKey, sampleValue)\n  const size = toSafeNumber(base, inferred)\n\n  // min/max는 공통 기본 범위를 주되, size가 너무 작거나 큰 경우 보정\n  const minSize = Math.min(Math.max(DEFAULT_MIN_WIDTH, Math.floor(size * 0.5)), size)\n  const maxSize = Math.max(DEFAULT_MAX_WIDTH, Math.ceil(size * 2))\n\n  return { size, minSize, maxSize }\n}\n\n/* =================================================================================\n * 셀 렌더러\n * ================================================================================= */\n\n/**\n * @typedef {object} RenderArgs\n * @property {any} value\n * @property {any} rowOriginal\n * @property {any} meta\n */\nconst CellRenderers = {\n  /** 🔗 defect_url: 아이콘 하이퍼링크 */\n  defect_url: ({ value }) => {\n    const href = toHttpUrl(value)\n    if (!href) return null\n    return (\n      <Link\n        href={href}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className=\"inline-flex items-center gap-1 text-blue-600 hover:underline\"\n        aria-label=\"Open defect URL in a new tab\"\n      >\n        <ExternalLink className=\"h-4 w-4\" />\n      </Link>\n    )\n  },\n\n  /** 📝 comment: 인라인 에디터 */\n  comment: ({ value, rowOriginal, meta }) => {\n    const recordId = getRecordId(rowOriginal)\n    if (!meta || !recordId) {\n      return formatCellValue(value)\n    }\n    return (\n      <CommentCell\n        meta={meta}\n        recordId={recordId}\n        baseValue={normalizeComment(rowOriginal?.comment)}\n      />\n    )\n  },\n\n  /** ✅ needtosend: 토글 */\n  needtosend: ({ value, rowOriginal, meta }) => {\n    const recordId = getRecordId(rowOriginal)\n    if (!meta || !recordId) {\n      return formatCellValue(value)\n    }\n    return (\n      <NeedToSendCell\n        meta={meta}\n        recordId={recordId}\n        baseValue={normalizeNeedToSend(rowOriginal?.needtosend)}\n      />\n    )\n  },\n\n  /** 🟢 send_jira: 1이면 “원형 내부 체크”, 아니면 빈 원형 */\n  send_jira: ({ value }) => {\n    const ok = normalizeBinaryFlag(value)\n    return (\n      <span\n        className={[\n          \"inline-flex h-5 w-5 items-center justify-center rounded-full border\",\n          ok ? \"bg-emerald-500 border-emerald-500\" : \"border-muted-foreground/30\",\n        ].join(\" \")}\n        title={ok ? \"Sent to JIRA\" : \"Not sent\"}\n        aria-label={ok ? \"Sent to JIRA\" : \"Not sent\"}\n        role=\"img\"\n      >\n        {ok ? <Check className=\"h-3 w-3 text-white\" strokeWidth={3} /> : null}\n      </span>\n    )\n  },\n\n  /** 🧭 status: 상태별 아이콘/색상 */\n  status: ({ value }) => {\n    const st = normalizeStatus(value)\n    const map = {\n      ESOP_STARTED: { icon: Check, className: \"text-blue-600\", label: \"ESOP Started\" },\n      MAIN_COMPLETE: { icon: Circle, className: \"text-amber-500\", label: \"Main Complete\" },\n      PARTIAL_COMPLETE: { icon: CircleDot, className: \"text-teal-600\", label: \"Partial Complete\" },\n      COMPLETE: { icon: CircleCheck, className: \"text-emerald-600\", label: \"Complete\" },\n    }\n    const fallback = { icon: Circle, className: \"text-muted-foreground\", label: st || \"Unknown\" }\n    const { icon: IconCmp, className, label } = map[st] ?? fallback\n\n    return (\n      <span className=\"inline-flex items-center gap-2\" title={label} aria-label={label} role=\"img\">\n        <IconCmp className={`h-5 w-5 ${className}`} />\n        <span className=\"text-sm text-foreground/80\">{label}</span>\n      </span>\n    )\n  },\n}\n\n/** 컬럼 키에 맞는 셀 렌더러 선택 (없으면 기본 포맷) */\nfunction renderCellByKey(colKey, info) {\n  const meta = info.table?.options?.meta\n  const value = info.getValue()\n  const rowOriginal = info.row?.original\n  const renderer = CellRenderers[colKey]\n  if (renderer) return renderer({ value, rowOriginal, meta })\n  return formatCellValue(value)\n}\n\n/* =================================================================================\n * 스텝 병합 관련( main_step + metro_steps → process_flow )\n * ================================================================================= */\n\nfunction pickStepColumnsWithIndex(columns) {\n  return columns\n    .map((key, index) => ({ key, index }))\n    .filter(({ key }) => STEP_COLUMN_KEY_SET.has(key))\n}\n\nfunction shouldCombineSteps(stepCols) {\n  if (!stepCols.length) return false\n  return stepCols.some(({ key }) => key === \"main_step\") || stepCols.some(({ key }) => key === \"metro_steps\")\n}\n\nfunction getSampleValueForColumns(row, columns) {\n  if (!row || typeof row !== \"object\" || !Array.isArray(columns)) return undefined\n  for (const { key } of columns) {\n    if (row[key] !== undefined) return row[key]\n  }\n  return undefined\n}\n\nfunction makeStepFlowColumn(stepCols, label, config, firstRow) {\n  const sample = getSampleValueForColumns(firstRow, stepCols)\n  const alignment = resolveAlignment(\"process_flow\", config, sample)\n  const { size, minSize, maxSize } = resolveColumnSizes(\"process_flow\", config, sample)\n\n  return {\n    id: \"process_flow\",\n    header: () => label,\n    accessorFn: (row) => row?.[\"main_step\"] ?? row?.[\"metro_steps\"] ?? null,\n    cell: (info) => renderMetroStepFlow(info.row.original),\n    enableSorting: false,\n    meta: { isEditable: false, alignment },\n    size,\n    minSize,\n    maxSize,\n  }\n}\n\n/* =================================================================================\n * 컬럼 팩토리\n * ================================================================================= */\n\nfunction makeColumnDef(colKey, config, sampleValueFromFirstRow) {\n  const label = (config.labels && config.labels[colKey]) || colKey\n\n  // enableSorting 결정: userConfig.sortable 우선, 없으면 기본 규칙\n  const enableSorting =\n    (config.sortable && typeof config.sortable[colKey] === \"boolean\")\n      ? config.sortable[colKey]\n      : colKey !== \"defect_url\" // 기본 규칙(링크 컬럼은 비권장)\n\n  // sortingFn: 정렬 허용일 때만 타입별 comparator 제공\n  const sortingFn = enableSorting\n    ? getSortingFnForKey(colKey, config, sampleValueFromFirstRow)\n    : undefined\n\n  // 🔧 사이즈(기본/최소/최대) 계산\n  const { size, minSize, maxSize } = resolveColumnSizes(colKey, config, sampleValueFromFirstRow)\n\n  // 정렬(헤더/셀) 방향\n  const alignment = resolveAlignment(colKey, config, sampleValueFromFirstRow)\n\n  return {\n    id: colKey,\n    header: () => label,\n    accessorFn: (row) => row?.[colKey],\n    meta: {\n      isEditable: colKey === \"comment\" || colKey === \"needtosend\",\n      alignment,\n    },\n    cell: (info) => renderCellByKey(colKey, info),\n    enableSorting,\n    sortingFn,\n    // ⛳ TanStack Table v8 사이징 힌트\n    size,\n    minSize,\n    maxSize,\n  }\n}\n\n/* =================================================================================\n * Public API\n * - createColumnDefs(rawColumns, userConfig, firstRowForTypeGuess?)\n *   - rawColumns: 원본 컬럼 키 배열\n *   - userConfig: 위 UserConfig\n *   - firstRowForTypeGuess: 첫 행 데이터(정렬 타입/폭 추론 정확도 향상용 · 선택)\n * ================================================================================= */\n\nexport function createColumnDefs(rawColumns, userConfig, firstRowForTypeGuess) {\n  const config = mergeConfig(userConfig)\n  const columns = Array.isArray(rawColumns) ? rawColumns : []\n\n  // 1) 스텝 병합 판단\n  const stepCols = pickStepColumnsWithIndex(columns)\n  const combineSteps = shouldCombineSteps(stepCols)\n\n  // 2) 병합 시, 스텝 관련 키 제거 → baseKeys\n  const baseKeys = combineSteps\n    ? columns.filter((key) => !STEP_COLUMN_KEY_SET.has(key))\n    : [...columns]\n\n  // 3) 우선 전체 컬럼Def 생성\n  const defs = baseKeys.map((key) => {\n    const sample = firstRowForTypeGuess ? firstRowForTypeGuess?.[key] : undefined\n    return makeColumnDef(key, config, sample)\n  })\n\n  // 4) 병합 컬럼 삽입 (라벨은 labels.process_flow > processFlowHeader 순으로 사용)\n  if (combineSteps) {\n    const headerText = config.labels?.process_flow || config.processFlowHeader || \"process_flow\"\n    const stepFlowCol = makeStepFlowColumn(stepCols, headerText, config, firstRowForTypeGuess)\n    // 기본 삽입 위치: 원래 스텝 컬럼들 중 가장 앞 인덱스\n    const insertionIndex = stepCols.length ? Math.min(...stepCols.map(({ index }) => index)) : defs.length\n    defs.splice(Math.min(Math.max(insertionIndex, 0), defs.length), 0, stepFlowCol)\n  }\n\n  // 5) userConfig.order 로 최종 순서 재정렬\n  const order = Array.isArray(config.order) ? config.order : null\n  if (order && order.length > 0) {\n    // 현재 defs에 존재하는 컬럼 id만 사용\n    const idSet = new Set(defs.map((d) => d.id))\n    const head = order.filter((id) => idSet.has(id))\n    const tail = defs.map((d) => d.id).filter((id) => !head.includes(id))\n    const finalIds = [...head, ...tail]\n    finalIds.forEach((id, i) => {\n      const idx = defs.findIndex((d) => d.id === id)\n      if (idx !== -1 && idx !== i) {\n        const [moved] = defs.splice(idx, 1)\n        defs.splice(i, 0, moved)\n      }\n    })\n  }\n\n  return defs\n}\n\n/* =================================================================================\n * 사용 예시 (참고)\n * ---------------------------------------------------------------------------------\n * const cols = Object.keys(rows[0] ?? {})\n * const defs = createColumnDefs(cols, {\n *   order: [\"status\",\"process_flow\",\"lot_id\",\"defect_url\",\"comment\",\"needtosend\"],\n *   labels: {\n *     lot_id: \"LOT\",\n *     process_flow: \"Flow\",\n *     needtosend: \"Send?\",\n *   },\n *   sortable: {\n *     defect_url: false,\n *     send_jira: false,\n *     status: true,\n *   },\n *   sortTypes: {\n *     lot_id: \"text\",\n *     needtosend: \"number\",\n *     status: \"text\",\n *   },\n *   width: {\n *     status: 180,\n *     process_flow: 320,\n *     comment: 260,\n *   },\n *   cellAlign: {\n *     defect_url: \"center\",\n *     needtosend: \"right\",\n *   },\n *   headerAlign: {\n *     needtosend: \"right\",\n *   },\n *   processFlowHeader: \"process_flow\", // 또는 \"Flow\"\n * }, rows?.[0])\n * ================================================================================= */\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1658, "column": 0}, "map": {"version":3,"sources":["file:///home/pjw75/tailwind/src/features/line-dashboard/components/data-table/global-filter.js"],"sourcesContent":["import { searchableValue } from \"./utils\"\n\n/**\n * 필터 입력값을 검색 가능한 토큰으로 정규화\n * - 공백만 있는 경우 빈 문자열 반환\n */\nfunction normalizeFilterValue(filterValue) {\n  if (filterValue === null || filterValue === undefined) return \"\"\n  const normalized = String(filterValue).trim().toLowerCase()\n  return normalized\n}\n\n/**\n * 테이블 전역 검색 함수 생성기\n * - columns: 검색 대상 컬럼 키 목록\n * - row: tanstack-table row (row.original에 원본 데이터 존재)\n */\nexport const createGlobalFilterFn = (columns) => {\n  const searchableKeys = Array.from(new Set(columns)).filter(Boolean)\n\n  return (row, _columnId, filterValue) => {\n    const keyword = normalizeFilterValue(filterValue)\n    if (!keyword) return true\n\n    // 한 행의 컬럼 값 가운데 keyword를 포함하는 항목이 있으면 통과\n    return searchableKeys.some((key) => {\n      const columnValue = row.original?.[key]\n      if (columnValue === undefined || columnValue === null) return false\n      return searchableValue(columnValue).includes(keyword)\n    })\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA;;;CAGC,GACD,SAAS,qBAAqB,WAAW;IACvC,IAAI,gBAAgB,QAAQ,gBAAgB,WAAW,OAAO;IAC9D,MAAM,aAAa,OAAO,aAAa,IAAI,GAAG,WAAW;IACzD,OAAO;AACT;AAOO,MAAM,uBAAuB,CAAC;IACnC,MAAM,iBAAiB,MAAM,IAAI,CAAC,IAAI,IAAI,UAAU,MAAM,CAAC;IAE3D,OAAO,CAAC,KAAK,WAAW;QACtB,MAAM,UAAU,qBAAqB;QACrC,IAAI,CAAC,SAAS,OAAO;QAErB,yCAAyC;QACzC,OAAO,eAAe,IAAI,CAAC,CAAC;YAC1B,MAAM,cAAc,IAAI,QAAQ,EAAE,CAAC,IAAI;YACvC,IAAI,gBAAgB,aAAa,gBAAgB,MAAM,OAAO;YAC9D,OAAO,IAAA,4MAAe,EAAC,aAAa,QAAQ,CAAC;QAC/C;IACF;AACF","debugId":null}},
    {"offset": {"line": 1689, "column": 0}, "map": {"version":3,"sources":["file:///home/pjw75/tailwind/src/features/line-dashboard/components/data-table/use-cell-indicators.js"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\n\nimport { MIN_SAVING_VISIBLE_MS, SAVED_VISIBLE_MS, SAVING_DELAY_MS } from \"./constants\"\n\n// 각 셀 상태마다 관리하는 타이머 이름 정의\nconst TIMER_NAMES = [\"savingDelay\", \"transition\", \"savedCleanup\"]\n\nexport function useCellIndicators() {\n  const [cellIndicators, setCellIndicators] = React.useState({})\n  // 비동기 콜백에서 최신 상태를 읽기 위해 ref로 별도 보관\n  const cellIndicatorsRef = React.useRef(cellIndicators)\n  // 셀 키 → { savingDelay, transition, savedCleanup } 형태의 타이머 저장소\n  const indicatorTimersRef = React.useRef({})\n  // begin 이후 finalize가 아직 오지 않은 셀 키 집합\n  const activeIndicatorKeysRef = React.useRef(new Set())\n\n  React.useEffect(() => {\n    cellIndicatorsRef.current = cellIndicators\n  }, [cellIndicators])\n\n  React.useEffect(() => {\n    const timersRef = indicatorTimersRef\n    const activeIndicatorKeys = activeIndicatorKeysRef.current\n\n    return () => {\n      Object.keys(timersRef.current).forEach((key) => {\n        TIMER_NAMES.forEach((timerName) => {\n          const timerId = timersRef.current[key]?.[timerName]\n          if (timerId) clearTimeout(timerId)\n        })\n      })\n      timersRef.current = {}\n      activeIndicatorKeys.clear()\n    }\n  }, [])\n\n  /** 셀 키에 대응하는 타이머 버킷을 확보 */\n  const ensureTimerBucket = React.useCallback((key) => {\n    const bucket = indicatorTimersRef.current[key]\n    if (bucket) return bucket\n    const created = {}\n    indicatorTimersRef.current[key] = created\n    return created\n  }, [])\n\n  /** 특정 타이머를 해제 */\n  const cancelTimer = React.useCallback((key, timerName) => {\n    const entry = indicatorTimersRef.current[key]\n    if (!entry) return\n    const timer = entry[timerName]\n    if (timer !== undefined) {\n      clearTimeout(timer)\n      delete entry[timerName]\n    }\n  }, [])\n\n  /** 여러 타이머를 한꺼번에 해제 */\n  const cancelTimers = React.useCallback(\n    (key, timerNames = TIMER_NAMES) => {\n      timerNames.forEach((timerName) => cancelTimer(key, timerName))\n    },\n    [cancelTimer]\n  )\n\n  /** 인디케이터를 즉시 제거 (allowedStatuses가 있으면 해당 상태일 때만) */\n  const clearIndicatorImmediate = React.useCallback((key, allowedStatuses) => {\n    setCellIndicators((prev) => {\n      const current = prev[key]\n      if (!current) return prev\n      if (allowedStatuses && !allowedStatuses.includes(current.status)) {\n        return prev\n      }\n      const next = { ...prev }\n      delete next[key]\n      return next\n    })\n  }, [])\n\n  /** saving 상태가 최소 시간만큼 노출되도록 보장 */\n  const withMinimumSavingVisibility = React.useCallback(\n    (key, now, task) => {\n      const indicator = cellIndicatorsRef.current[key]\n      if (indicator?.status === \"saving\") {\n        const elapsed = now - indicator.visibleSince\n        const remaining = Math.max(0, MIN_SAVING_VISIBLE_MS - elapsed)\n        if (remaining > 0) {\n          const timers = ensureTimerBucket(key)\n          cancelTimers(key, [\"transition\"])\n          timers.transition = setTimeout(() => {\n            delete timers.transition\n            task()\n          }, remaining)\n          return\n        }\n      }\n      task()\n    },\n    [cancelTimers, ensureTimerBucket]\n  )\n\n  /** saving 지연 타이머를 걸어 UI 깜빡임을 줄인다 */\n  const scheduleSavingIndicator = React.useCallback(\n    (key) => {\n      const timers = ensureTimerBucket(key)\n      cancelTimers(key)\n      timers.savingDelay = setTimeout(() => {\n        delete timers.savingDelay\n        if (!activeIndicatorKeysRef.current.has(key)) return\n        setCellIndicators((prev) => ({\n          ...prev,\n          [key]: { status: \"saving\", visibleSince: Date.now() },\n        }))\n      }, SAVING_DELAY_MS)\n    },\n    [cancelTimers, ensureTimerBucket]\n  )\n\n  const begin = React.useCallback(\n    (keys) => {\n      if (keys.length === 0) return\n\n      setCellIndicators((prev) => {\n        let next = null\n        keys.forEach((key) => {\n          if (key in prev) {\n            if (next === null) next = { ...prev }\n            delete next[key]\n          }\n        })\n        return next ?? prev\n      })\n\n      keys.forEach((key) => {\n        activeIndicatorKeysRef.current.add(key)\n        scheduleSavingIndicator(key)\n      })\n    },\n    [scheduleSavingIndicator]\n  )\n\n  const finalize = React.useCallback(\n    (keys, outcome) => {\n      if (keys.length === 0) return\n      const now = Date.now()\n\n      keys.forEach((key) => {\n        activeIndicatorKeysRef.current.delete(key)\n        cancelTimers(key)\n\n        if (outcome === \"success\") {\n          withMinimumSavingVisibility(key, now, () => {\n            if (activeIndicatorKeysRef.current.has(key)) return\n            const timers = ensureTimerBucket(key)\n            setCellIndicators((prev) => ({\n              ...prev,\n              [key]: { status: \"saved\", visibleSince: Date.now() },\n            }))\n            timers.savedCleanup = setTimeout(() => {\n              delete timers.savedCleanup\n              if (activeIndicatorKeysRef.current.has(key)) return\n              clearIndicatorImmediate(key, [\"saved\"])\n            }, SAVED_VISIBLE_MS)\n          })\n        } else {\n          withMinimumSavingVisibility(key, now, () => {\n            if (activeIndicatorKeysRef.current.has(key)) return\n            clearIndicatorImmediate(key, [\"saving\"])\n          })\n        }\n      })\n    },\n    [cancelTimers, clearIndicatorImmediate, ensureTimerBucket, withMinimumSavingVisibility]\n  )\n\n  return { cellIndicators, begin, finalize }\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1877, "column": 0}, "map": {"version":3,"sources":["file:///home/pjw75/tailwind/src/features/line-dashboard/components/data-table/use-data-table.js"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\n\nimport { DEFAULT_TABLE, getDefaultFromValue, getDefaultToValue } from \"./constants\"\nimport { useCellIndicators } from \"./use-cell-indicators\"\n\nfunction deleteKeys(record, keys) {\n  if (keys.length === 0) return record\n  let next = null\n  keys.forEach((key) => {\n    if (key in record) {\n      if (next === null) next = { ...record }\n      delete next[key]\n    }\n  })\n  return next ?? record\n}\n\nfunction removeKey(record, key) {\n  if (!(key in record)) return record\n  const next = { ...record }\n  delete next[key]\n  return next\n}\n\nfunction normalizeTablePayload(payload) {\n  if (!payload || typeof payload !== \"object\") {\n    return {\n      table: DEFAULT_TABLE,\n      from: getDefaultFromValue(),\n      to: getDefaultToValue(),\n      rowCount: 0,\n      columns: [],\n      rows: [],\n    }\n  }\n\n  const normalizedColumns = Array.isArray(payload.columns)\n    ? payload.columns.filter((value) => typeof value === \"string\")\n    : []\n\n  const normalizedRows = Array.isArray(payload.rows)\n    ? payload.rows\n      .filter((row) => row && typeof row === \"object\")\n      .map((row) => ({ ...row }))\n    : []\n\n  const rowCountRaw = Number(payload.rowCount)\n  const normalizedRowCount = Number.isFinite(rowCountRaw) ? rowCountRaw : normalizedRows.length\n\n  const normalizedFrom = typeof payload.from === \"string\" ? payload.from : null\n  const normalizedTo = typeof payload.to === \"string\" ? payload.to : null\n\n  const normalizedTable = typeof payload.table === \"string\" ? payload.table : null\n\n  return {\n    table: normalizedTable,\n    from: normalizedFrom,\n    to: normalizedTo,\n    rowCount: normalizedRowCount,\n    columns: normalizedColumns,\n    rows: normalizedRows,\n  }\n}\n\nfunction makeEqpCb(eqpId, chamberIds) {\n  const a = (eqpId ?? \"\").toString().trim();\n  const b = (chamberIds ?? \"\").toString().trim();\n  if (a && b) return `${a}-${b}`;\n  if (a) return a;           // 한쪽만 있을 때도 자연스럽게\n  if (b) return b;\n  return \"\";                 // 둘 다 없으면 빈 문자열\n}\n\n\n\nexport function useDataTableState({ lineId }) {\n  const [selectedTable, setSelectedTable] = React.useState(DEFAULT_TABLE)\n  const [columns, setColumns] = React.useState([])\n  const [rows, setRows] = React.useState([])\n  const [fromDate, setFromDate] = React.useState(() => getDefaultFromValue())\n  const [toDate, setToDate] = React.useState(() => getDefaultToValue())\n  const [appliedFrom, setAppliedFrom] = React.useState(() => getDefaultFromValue())\n  const [appliedTo, setAppliedTo] = React.useState(() => getDefaultToValue())\n  const [filter, setFilter] = React.useState(\"\")\n  const [sorting, setSorting] = React.useState([])\n  const [commentDrafts, setCommentDrafts] = React.useState({})\n  const [commentEditing, setCommentEditing] = React.useState({})\n  const [needToSendDrafts, setNeedToSendDrafts] = React.useState({})\n  const [updatingCells, setUpdatingCells] = React.useState({})\n  const [updateErrors, setUpdateErrors] = React.useState({})\n  const [isLoadingRows, setIsLoadingRows] = React.useState(false)\n  const [rowsError, setRowsError] = React.useState(null)\n  const [lastFetchedCount, setLastFetchedCount] = React.useState(0)\n\n  const rowsRequestRef = React.useRef(0)\n  const { cellIndicators, begin, finalize } = useCellIndicators()\n\n  const fetchRows = React.useCallback(async () => {\n    const requestId = ++rowsRequestRef.current\n    setIsLoadingRows(true)\n    setRowsError(null)\n\n    try {\n      let effectiveFrom = fromDate && fromDate.length > 0 ? fromDate : null\n      let effectiveTo = toDate && toDate.length > 0 ? toDate : null\n\n      if (effectiveFrom && effectiveTo) {\n        const fromTime = new Date(`${effectiveFrom}T00:00:00Z`).getTime()\n        const toTime = new Date(`${effectiveTo}T23:59:59Z`).getTime()\n        if (Number.isFinite(fromTime) && Number.isFinite(toTime) && fromTime > toTime) {\n          ;[effectiveFrom, effectiveTo] = [effectiveTo, effectiveFrom]\n        }\n      }\n\n      const params = new URLSearchParams({ table: selectedTable })\n      if (effectiveFrom) params.set(\"from\", effectiveFrom)\n      if (effectiveTo) params.set(\"to\", effectiveTo)\n      if (lineId) params.set(\"lineId\", lineId)\n\n      const response = await fetch(`/api/tables?${params.toString()}`, { cache: \"no-store\" })\n      let payload = {}\n\n      try {\n        payload = await response.json()\n      } catch {\n        payload = {}\n      }\n\n      if (!response.ok) {\n        const message =\n          payload &&\n            typeof payload === \"object\" &&\n            \"error\" in payload &&\n            typeof payload.error === \"string\"\n            ? payload.error\n            : `Request failed with status ${response.status}`\n        throw new Error(message)\n      }\n\n      if (rowsRequestRef.current !== requestId) return\n\n      const {\n        columns: fetchedColumns,\n        rows: fetchedRows,\n        rowCount,\n        from: appliedFromValue,\n        to: appliedToValue,\n        table,\n      } = normalizeTablePayload(payload)\n\n      // 1) 일단 id는 숨김\n      const baseColumns = fetchedColumns.filter(\n        (column) => column && column.toLowerCase() !== \"id\"\n      );\n      // 2) 로우에 EQP_CB 필드 추가\n      const composedRows = fetchedRows.map((row) => {\n        const eqpId = row?.eqp_id ?? row?.EQP_ID ?? row?.EqpId;           // 혹시 대소문자/케이스가 다를 수 있어 방어\n        const chamber = row?.chamber_ids ?? row?.CHAMBER_IDS ?? row?.ChamberIds;\n        return {\n          ...row,\n          EQP_CB: makeEqpCb(eqpId, chamber),\n        };\n      });\n      // 3) 컬럼 목록에서 eqp_id, chamber_ids는 제거하고 EQP_CB를 추가\n      const columnsWithoutOriginals = baseColumns.filter((c) => {\n        const lc = c.toLowerCase();\n        return lc !== \"eqp_id\" && lc !== \"chamber_ids\";\n      });\n      // 이미 포함돼 있지 않다면 EQP_CB 추가 (원하는 위치로 배치 가능: 맨 앞/맨 뒤 등)\n      const nextColumns = columnsWithoutOriginals.includes(\"EQP_CB\")\n        ? columnsWithoutOriginals\n        : [\"EQP_CB\", ...columnsWithoutOriginals];\n      setColumns(nextColumns);\n      setRows(composedRows);\n      setLastFetchedCount(rowCount)\n      setAppliedFrom(appliedFromValue ?? null)\n      setAppliedTo(appliedToValue ?? null)\n      setCommentDrafts({})\n      setCommentEditing({})\n      setNeedToSendDrafts({})\n\n      if (table && table !== selectedTable) {\n        setSelectedTable(table)\n      }\n    } catch (error) {\n      if (rowsRequestRef.current !== requestId) return\n      const message = error instanceof Error ? error.message : \"Failed to load table rows\"\n      setRowsError(message)\n      setColumns([])\n      setRows([])\n      setLastFetchedCount(0)\n    } finally {\n      if (rowsRequestRef.current === requestId) setIsLoadingRows(false)\n    }\n  }, [fromDate, toDate, selectedTable, lineId])\n\n  React.useEffect(() => {\n    fetchRows()\n  }, [fetchRows])\n\n  const clearUpdateError = React.useCallback((key) => {\n    setUpdateErrors((prev) => removeKey(prev, key))\n  }, [])\n\n  const handleUpdate = React.useCallback(\n    async (recordId, updates) => {\n      const fields = Object.keys(updates)\n      if (!recordId || fields.length === 0) return false\n\n      const cellKeys = fields.map((field) => `${recordId}:${field}`)\n\n      setUpdatingCells((prev) => {\n        const next = { ...prev }\n        cellKeys.forEach((key) => {\n          next[key] = true\n        })\n        return next\n      })\n\n      setUpdateErrors((prev) => {\n        const next = { ...prev }\n        cellKeys.forEach((key) => {\n          if (key in next) delete next[key]\n        })\n        return next\n      })\n\n      begin(cellKeys)\n\n      let updateSucceeded = false\n\n      try {\n        const response = await fetch(\"/api/tables/update\", {\n          method: \"PATCH\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            table: selectedTable,\n            id: recordId,\n            updates,\n          }),\n        })\n\n        let payload = {}\n        try {\n          payload = await response.json()\n        } catch {\n          payload = {}\n        }\n\n        if (!response.ok) {\n          const message =\n            payload &&\n              typeof payload === \"object\" &&\n              \"error\" in payload &&\n              typeof payload.error === \"string\"\n              ? payload.error\n              : `Failed to update (status ${response.status})`\n          throw new Error(message)\n        }\n\n        setRows((previousRows) =>\n          previousRows.map((row) => {\n            const rowId = String(row?.id ?? \"\")\n            if (rowId !== recordId) return row\n            return {\n              ...row,\n              ...updates,\n            }\n          })\n        )\n\n        if (\"comment\" in updates) {\n          setCommentDrafts((prev) => removeKey(prev, recordId))\n          setCommentEditing((prev) => removeKey(prev, recordId))\n        }\n\n        if (\"needtosend\" in updates) {\n          setNeedToSendDrafts((prev) => removeKey(prev, recordId))\n        }\n\n        updateSucceeded = true\n        return true\n      } catch (error) {\n        const message = error instanceof Error ? error.message : \"Failed to update\"\n\n        setUpdateErrors((prev) => {\n          const next = { ...prev }\n          cellKeys.forEach((key) => {\n            next[key] = message\n          })\n          return next\n        })\n\n        return false\n      } finally {\n        setUpdatingCells((prev) => deleteKeys(prev, cellKeys))\n        finalize(cellKeys, updateSucceeded ? \"success\" : \"error\")\n      }\n    },\n    [selectedTable, begin, finalize]\n  )\n\n  const setCommentEditingState = React.useCallback((recordId, editing) => {\n    if (!recordId) return\n    setCommentEditing((prev) => {\n      if (editing) {\n        return {\n          ...prev,\n          [recordId]: true,\n        }\n      }\n      return removeKey(prev, recordId)\n    })\n  }, [])\n\n  const setCommentDraftValue = React.useCallback((recordId, value) => {\n    if (!recordId) return\n    setCommentDrafts((prev) => ({\n      ...prev,\n      [recordId]: value,\n    }))\n  }, [])\n\n  const removeCommentDraftValue = React.useCallback((recordId) => {\n    if (!recordId) return\n    setCommentDrafts((prev) => removeKey(prev, recordId))\n  }, [])\n\n  const setNeedToSendDraftValue = React.useCallback((recordId, value) => {\n    if (!recordId) return\n    setNeedToSendDrafts((prev) => ({\n      ...prev,\n      [recordId]: value,\n    }))\n  }, [])\n\n  const removeNeedToSendDraftValue = React.useCallback((recordId) => {\n    if (!recordId) return\n    setNeedToSendDrafts((prev) => removeKey(prev, recordId))\n  }, [])\n\n  const tableMeta = {\n    commentDrafts,\n    commentEditing,\n    needToSendDrafts,\n    updatingCells,\n    updateErrors,\n    cellIndicators,\n    clearUpdateError,\n    setCommentDraftValue,\n    removeCommentDraftValue,\n    setCommentEditingState,\n    setNeedToSendDraftValue,\n    removeNeedToSendDraftValue,\n    handleUpdate,\n  }\n\n  return {\n    selectedTable,\n    columns,\n    rows,\n    fromDate,\n    setFromDate,\n    toDate,\n    setToDate,\n    appliedFrom,\n    appliedTo,\n    filter,\n    setFilter,\n    sorting,\n    setSorting,\n    isLoadingRows,\n    rowsError,\n    lastFetchedCount,\n    fetchRows,\n    tableMeta,\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2219, "column": 0}, "map": {"version":3,"sources":["file:///home/pjw75/tailwind/src/features/line-dashboard/components/data-table/data-table.jsx"],"sourcesContent":["\"use client\"\n\n/**\n * ✅ 요구사항 반영\n * - UI 변경 없이 기능만 수정\n * - status / sdwt_prod 필터는 다중 선택 가능 (나머지는 단일 선택 유지)\n * - \"전체\" 버튼 로직: 단일선택 → null / 다중선택 → 빈 배열([])\n * - 하이라이트(선택색)도 동일 UI로 유지하되, 내부 비교만 배열 포함여부로 변경\n */\n\nimport * as React from \"react\"\nimport {\n  flexRender,\n  getCoreRowModel,\n  getFilteredRowModel,\n  getPaginationRowModel,\n  getSortedRowModel,\n  useReactTable,\n} from \"@tanstack/react-table\"\nimport {\n  IconChevronDown,\n  IconChevronLeft,\n  IconChevronRight,\n  IconChevronUp,\n  IconChevronsLeft,\n  IconChevronsRight,\n  IconDatabase,\n} from \"@tabler/icons-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\"\n\nimport { dateFormatter, numberFormatter, timeFormatter, toDateInputValue } from \"./constants\"\nimport { createColumnDefs } from \"./column-defs\"\nimport { createGlobalFilterFn } from \"./global-filter\"\nimport { useDataTableState } from \"./use-data-table\"\n\n/* =========================\n * 정렬/정렬방향 유틸 클래스\n * ========================= */\nconst TEXT_ALIGN_CLASS = {\n  left: \"text-left\",\n  center: \"text-center\",\n  right: \"text-right\",\n}\nconst JUSTIFY_ALIGN_CLASS = {\n  left: \"justify-start\",\n  center: \"justify-center\",\n  right: \"justify-end\",\n}\nconst getTextAlignClass = (alignment = \"left\") => TEXT_ALIGN_CLASS[alignment] ?? TEXT_ALIGN_CLASS.left\nconst getJustifyClass = (alignment = \"left\") => JUSTIFY_ALIGN_CLASS[alignment] ?? JUSTIFY_ALIGN_CLASS.left\nconst resolveHeaderAlignment = (meta) => meta?.alignment?.header ?? meta?.alignment?.cell ?? \"left\"\nconst resolveCellAlignment = (meta) => meta?.alignment?.cell ?? meta?.alignment?.header ?? \"left\"\n\n/* =========================\n * 퀵필터 정의(원본 유지)\n * ========================= */\nconst QUICK_FILTER_DEFINITIONS = [\n  {\n    key: \"sdwt_prod\",\n    label: \"설비 SDWT\",\n    resolveColumn: (columns) => findMatchingColumn(columns, \"sdwt_prod\"),\n    normalizeValue: (value) => {\n      if (value == null) return null\n      const trimmed = String(value).trim()\n      return trimmed.length > 0 ? trimmed : null\n    },\n    formatValue: (value) => value,\n    compareOptions: (a, b) => a.label.localeCompare(b.label, undefined, { sensitivity: \"base\" }),\n  },\n  {\n    key: \"user_sdwt_prod\",\n    label: \"User (SDWT)\",\n    resolveColumn: (columns) => findMatchingColumn(columns, \"user_sdwt_prod\"),\n    normalizeValue: (value) => {\n      if (value == null) return null\n      const trimmed = String(value).trim()\n      return trimmed.length > 0 ? trimmed : null\n    },\n    formatValue: (value) => value,\n    compareOptions: (a, b) => a.label.localeCompare(b.label, undefined, { sensitivity: \"base\" }),\n  },\n  {\n    key: \"status\",\n    label: \"Status\",\n    resolveColumn: (columns) => findMatchingColumn(columns, \"status\"),\n    normalizeValue: (value) => {\n      if (value == null) return null\n      const normalized = String(value).trim()\n      return normalized.length > 0 ? normalized.toUpperCase() : null\n    },\n    formatValue: (value) => value,\n    compareOptions: (a, b) => a.label.localeCompare(b.label, undefined, { sensitivity: \"base\" }),\n  },\n  {\n    key: \"needtosend\",\n    label: \"예약\",\n    resolveColumn: (columns) => findMatchingColumn(columns, \"needtosend\"),\n    normalizeValue: (value) => {\n      if (value === 1 || value === \"1\") return \"1\"\n      if (value === 0 || value === \"0\") return \"0\"\n      if (value == null || value === \"\") return \"0\"\n      const numeric = Number(value)\n      if (Number.isFinite(numeric)) return numeric === 1 ? \"1\" : \"0\"\n      return \"0\"\n    },\n    formatValue: (value) => (value === \"1\" ? \"Yes\" : \"No\"),\n    compareOptions: (a, b) => {\n      if (a.value === b.value) return 0\n      if (a.value === \"1\") return -1\n      if (b.value === \"1\") return 1\n      return a.label.localeCompare(b.label, undefined, { sensitivity: \"base\" })\n    },\n  },\n  {\n    key: \"send_jira\",\n    label: \"Jira전송완료\",\n    resolveColumn: (columns) => findMatchingColumn(columns, \"send_jira\"),\n    normalizeValue: (value) => {\n      if (value === 1 || value === \"1\") return \"1\"\n      if (value === 0 || value === \"0\") return \"0\"\n      if (value == null || value === \"\") return \"0\"\n      const numeric = Number(value)\n      if (Number.isFinite(numeric)) return numeric === 1 ? \"1\" : \"0\"\n      return \"0\"\n    },\n    formatValue: (value) => (value === \"1\" ? \"Yes\" : \"No\"),\n    compareOptions: (a, b) => {\n      if (a.value === b.value) return 0\n      if (a.value === \"1\") return -1\n      if (b.value === \"1\") return 1\n      return a.label.localeCompare(b.label, undefined, { sensitivity: \"base\" })\n    },\n  },\n]\n\n/* =========================\n * ⭐ 다중 선택 허용 키만 지정\n *    - UI는 그대로, 동작만 변경\n * ========================= */\nconst MULTI_KEYS = new Set([\"status\", \"sdwt_prod\"])\n\n/* 초기값 생성: 단일(null) / 다중([]) */\nfunction createInitialQuickFilters() {\n  return QUICK_FILTER_DEFINITIONS.reduce((acc, def) => {\n    acc[def.key] = MULTI_KEYS.has(def.key) ? [] : null\n    return acc\n  }, {})\n}\n\nfunction findMatchingColumn(columns, target) {\n  if (!Array.isArray(columns)) return null\n  const targetLower = target.toLowerCase()\n  return columns.find((c) => typeof c === \"string\" && c.toLowerCase() === targetLower) ?? null\n}\n\n/* =========================\n * Null 표시 규칙 (공통)\n * ========================= */\nfunction isNullishDisplay(value) {\n  // null, undefined, \"null\" (대소문자/공백 무시) → 빈칸\n  if (value == null) return true\n  if (typeof value === \"string\" && value.trim().toLowerCase() === \"null\") return true\n  return false\n}\n\n\n\nexport function DataTable({ lineId }) {\n  const {\n    selectedTable,\n    columns,\n    rows,\n    fromDate,\n    setFromDate,\n    toDate,\n    setToDate,\n    appliedFrom,\n    appliedTo,\n    filter,\n    setFilter,\n    sorting,\n    setSorting,\n    isLoadingRows,\n    rowsError,\n    fetchRows,\n    tableMeta,\n  } = useDataTableState({ lineId })\n\n  /* =========================\n   * 1) Column/Filter 메모\n   * ========================= */\n  const firstRow = rows[0]\n  const columnDefs = React.useMemo(\n    () => createColumnDefs(columns, undefined, firstRow),\n    [columns, firstRow]\n  )\n  const globalFilterFn = React.useMemo(() => createGlobalFilterFn(columns), [columns])\n\n  const [pagination, setPagination] = React.useState({ pageIndex: 0, pageSize: 15 })\n  const [quickFilters, setQuickFilters] = React.useState(() => createInitialQuickFilters())\n\n  /* =========================\n   * 2) 컬럼 사이징 상태 연결\n   * ========================= */\n  const [columnSizing, setColumnSizing] = React.useState({})\n\n  /* =========================\n   * 3) 퀵필터 섹션 계산 (원본 로직 유지)\n   * ========================= */\n  const quickFilterSections = React.useMemo(() => {\n    return QUICK_FILTER_DEFINITIONS.map((definition) => {\n      const columnKey = definition.resolveColumn(columns)\n      if (!columnKey) return null\n\n      const valueMap = new Map()\n      rows.forEach((row) => {\n        const rawValue = row?.[columnKey]\n        const normalized = definition.normalizeValue(rawValue)\n        if (normalized === null) return\n        if (!valueMap.has(normalized)) {\n          valueMap.set(normalized, definition.formatValue(normalized, rawValue))\n        }\n      })\n      if (valueMap.size === 0) return null\n\n      const options = Array.from(valueMap.entries()).map(([value, label]) => ({ value, label }))\n      if (typeof definition.compareOptions === \"function\") {\n        options.sort((a, b) => definition.compareOptions(a, b))\n      }\n\n      return {\n        key: definition.key,\n        label: definition.label,\n        options,\n        getValue: (row) => definition.normalizeValue(row?.[columnKey]),\n        isMulti: MULTI_KEYS.has(definition.key), // ⭐ 섹션별 다중 여부\n      }\n    }).filter(Boolean)\n  }, [columns, rows])\n\n  /* =========================\n   * 4) 퀵필터 유효성 유지 (다중/단일 모두 지원)\n   * ========================= */\n  React.useEffect(() => {\n    const sectionMap = new Map(quickFilterSections.map((s) => [s.key, s]))\n    setQuickFilters((prev) => {\n      let next = prev\n      for (const def of QUICK_FILTER_DEFINITIONS) {\n        const section = sectionMap.get(def.key)\n        const current = prev[def.key]\n\n        // 섹션이 사라졌으면 초기화\n        if (!section) {\n          const resetVal = MULTI_KEYS.has(def.key) ? [] : null\n          if (JSON.stringify(current) !== JSON.stringify(resetVal)) {\n            if (next === prev) next = { ...prev }\n            next[def.key] = resetVal\n          }\n          continue\n        }\n\n        // 옵션 변경 시 현재 선택값 정리\n        const validSet = new Set(section.options.map((o) => o.value))\n        if (section.isMulti) {\n          const curArr = Array.isArray(current) ? current : []\n          const filtered = curArr.filter((v) => validSet.has(v))\n          if (curArr.length !== filtered.length) {\n            if (next === prev) next = { ...prev }\n            next[def.key] = filtered\n          }\n        } else {\n          if (current !== null && !validSet.has(current)) {\n            if (next === prev) next = { ...prev }\n            next[def.key] = null\n          }\n        }\n      }\n      return next\n    })\n  }, [quickFilterSections])\n\n  /* =========================\n   * 5) 퀵필터 적용 결과\n   *    - 단일: 값이 null이면 미적용\n   *    - 다중: 배열 길이 0이면 미적용\n   * ========================= */\n  const filteredRows = React.useMemo(() => {\n    if (quickFilterSections.length === 0) return rows\n    return rows.filter((row) =>\n      quickFilterSections.every((s) => {\n        const cur = quickFilters[s.key]\n        const rowVal = s.getValue(row)\n        if (s.isMulti) {\n          return Array.isArray(cur) && cur.length > 0 ? cur.includes(rowVal) : true\n        }\n        return cur !== null ? rowVal === cur : true\n      })\n    )\n  }, [rows, quickFilterSections, quickFilters])\n\n  /* =========================\n   * 6) 테이블 인스턴스\n   * ========================= */\n  /* eslint-disable react-hooks/incompatible-library */\n  const table = useReactTable({\n    data: filteredRows,\n    columns: columnDefs,\n    meta: tableMeta,\n    state: {\n      sorting,\n      globalFilter: filter,\n      pagination,\n      columnSizing,\n    },\n    onSortingChange: setSorting,\n    onGlobalFilterChange: setFilter,\n    onPaginationChange: setPagination,\n    onColumnSizingChange: setColumnSizing,\n    globalFilterFn,\n    getCoreRowModel: getCoreRowModel(),\n    getFilteredRowModel: getFilteredRowModel(),\n    getSortedRowModel: getSortedRowModel(),\n    getPaginationRowModel: getPaginationRowModel(),\n    columnResizeMode: \"onChange\",\n  })\n  /* eslint-enable react-hooks/incompatible-library */\n\n  /* =========================\n   * 파생 상태\n   * ========================= */\n  const emptyStateColSpan = Math.max(table.getVisibleLeafColumns().length, 1)\n  const totalLoaded = rows.length\n  const filteredTotal = filteredRows.length\n  const hasNoRows = !isLoadingRows && rowsError === null && columns.length === 0\n  const [lastUpdatedLabel, setLastUpdatedLabel] = React.useState(null)\n  const currentPage = pagination.pageIndex + 1\n  const totalPages = Math.max(table.getPageCount(), 1)\n  const currentPageSize = table.getRowModel().rows.length\n\n  React.useEffect(() => {\n    if (isLoadingRows) return\n    setLastUpdatedLabel(timeFormatter.format(new Date()))\n  }, [isLoadingRows])\n\n  React.useEffect(() => {\n    setPagination((prev) => (prev.pageIndex === 0 ? prev : { ...prev, pageIndex: 0 }))\n  }, [filter, sorting, quickFilters])\n\n  React.useEffect(() => {\n    const maxIndex = Math.max(table.getPageCount() - 1, 0)\n    setPagination((prev) => (prev.pageIndex > maxIndex ? { ...prev, pageIndex: maxIndex } : prev))\n  }, [table, rows.length, filteredRows.length, pagination.pageSize])\n\n  const activeQuickFilterCount = React.useMemo(\n    () =>\n      Object.entries(quickFilters).reduce((sum, [key, val]) => {\n        return sum + (MULTI_KEYS.has(key) ? (Array.isArray(val) ? val.length : 0) : val !== null ? 1 : 0)\n      }, 0),\n    [quickFilters]\n  )\n\n  /* =========================\n   * 7) 핸들러 (UI 불변)\n   * ========================= */\n  const handleQuickFilterToggle = React.useCallback((key, value) => {\n    setQuickFilters((prev) => {\n      const isMulti = MULTI_KEYS.has(key)\n\n      // \"전체\" 버튼: value === null\n      if (value === null) {\n        return { ...prev, [key]: isMulti ? [] : null } // ⭐ 핵심\n      }\n\n      if (!isMulti) {\n        // 단일\n        return { ...prev, [key]: prev[key] === value ? null : value }\n      }\n\n      // 다중\n      const curArr = Array.isArray(prev[key]) ? prev[key] : []\n      const exists = curArr.includes(value)\n      const nextArr = exists ? curArr.filter((v) => v !== value) : [...curArr, value]\n      return { ...prev, [key]: nextArr }\n    })\n  }, [])\n\n  const handleQuickFilterClearAll = React.useCallback(\n    () => setQuickFilters(() => createInitialQuickFilters()),\n    []\n  )\n\n  const handleRefresh = React.useCallback(() => {\n    void fetchRows()\n  }, [fetchRows])\n\n  /* =========================\n   * 8) 본문 렌더러 (원본 유지)\n   * ========================= */\n  const renderTableBody = React.useCallback(() => {\n    if (isLoadingRows) {\n      return (\n        <TableRow>\n          <TableCell colSpan={emptyStateColSpan} className=\"h-26 text-center text-sm text-muted-foreground\">\n            Loading rows…\n          </TableCell>\n        </TableRow>\n      )\n    }\n    if (rowsError) {\n      return (\n        <TableRow>\n          <TableCell colSpan={emptyStateColSpan} className=\"h-26 text-center text-sm text-destructive\">\n            {rowsError}\n          </TableCell>\n        </TableRow>\n      )\n    }\n    if (hasNoRows) {\n      return (\n        <TableRow>\n          <TableCell colSpan={emptyStateColSpan} className=\"h-26 text-center text-sm text-muted-foreground\">\n            No rows returned.\n          </TableCell>\n        </TableRow>\n      )\n    }\n\n    const visibleRows = table.getRowModel().rows\n    if (visibleRows.length === 0) {\n      return (\n        <TableRow>\n          <TableCell colSpan={emptyStateColSpan} className=\"h-26 text-center text-sm text-muted-foreground\">\n            No rows match your filter.\n          </TableCell>\n        </TableRow>\n      )\n    }\n\n    return visibleRows.map((row) => (\n      <TableRow key={row.id}>\n        {row.getVisibleCells().map((cell) => {\n          const isEditable = Boolean(cell.column.columnDef.meta?.isEditable)\n          const cellAlignment = resolveCellAlignment(cell.column.columnDef.meta)\n          const cellTextClass = getTextAlignClass(cellAlignment)\n          const w = cell.column.getSize()\n\n          // ✅ null → 빈칸 처리 (문자열 \"null\" 포함)\n          const raw = cell.getValue()\n          const content = isNullishDisplay(raw)\n            ? \"\" // 빈칸\n            : flexRender(cell.column.columnDef.cell, cell.getContext())\n\n          return (\n            <TableCell\n              key={cell.id}\n              data-editable={isEditable ? \"true\" : \"false\"}\n              style={{ width: w, minWidth: w, maxWidth: w }}\n              className={cn(\n                \"align-center\",\n                cellTextClass,\n                !isEditable && \"caret-transparent focus:outline-none\"\n              )}\n            >\n              {content}\n            </TableCell>\n          )\n        })}\n      </TableRow>\n    ))\n\n  }, [emptyStateColSpan, hasNoRows, isLoadingRows, rowsError, table])\n\n  /* =========================\n   * 9) 렌더 (퀵필터 UI 그대로)\n   * ========================= */\n  return (\n    <section className=\"flex h-full min-h-0 min-w-0 flex-col gap-2 px-4 lg:px-6\">\n      <div className=\"flex flex-wrap items-start justify-between gap-4\">\n        <div className=\"flex flex-col gap-1\">\n          <div className=\"flex items-center gap-2 text-lg font-semibold\">\n            <IconDatabase className=\"size-5\" />\n            {lineId}Line E-SOP Status\n          </div>\n        </div>\n      </div>\n\n      {/* 퀵필터 (UI 동일) */}\n      {quickFilterSections.length > 0 ? (\n        <div className=\"flex flex-col gap-3 rounded-lg border p-2\">\n          <div className=\"flex items-center gap-6\">\n            <span className=\"text-xs font-semibold tracking-wide text-muted-foreground\">Quick Filters</span>\n            {activeQuickFilterCount > 0 && (\n              <button\n                type=\"button\"\n                onClick={handleQuickFilterClearAll}\n                className=\"text-xs font-medium text-primary hover:underline\"\n              >\n                Clear all\n              </button>\n            )}\n          </div>\n\n          <div className=\"flex flex-wrap items-start gap-3\">\n            {quickFilterSections.map((section) => {\n              const isMulti = section.isMulti\n              const current = quickFilters[section.key]\n              const selectedValues = isMulti ? (Array.isArray(current) ? current : []) : [current].filter(Boolean)\n              const allSelected = isMulti ? selectedValues.length === 0 : current === null\n\n              return (\n                <fieldset key={section.key} className=\"flex flex-col rounded-xl bg-muted/30 p-1 px-3\">\n                  <legend className=\"text-[11px] font-semibold uppercase tracking-wide text-muted-foreground\">\n                    {section.label}\n                  </legend>\n\n                  <div className=\"flex flex-wrap items-center\">\n                    {/* 전체 버튼: 다중 → [] / 단일 → null */}\n                    <button\n                      type=\"button\"\n                      onClick={() => handleQuickFilterToggle(section.key, null)}\n                      className={cn(\n                        \"h-8 px-3 text-xs font-medium border border-input bg-background\",\n                        \"-ml-px first:ml-0 first:rounded-l last:rounded-r\",\n                        \"transition-colors\",\n                        allSelected\n                          ? \"relative z-[1] border-primary bg-primary/10 text-primary\"\n                          : \"hover:bg-muted\"\n                      )}\n                    >\n                      전체\n                    </button>\n\n                    {section.options.map((option) => {\n                      // ⭐ 하이라이트 조건만 배열 포함 여부로 확장\n                      const isActive = selectedValues.includes(option.value)\n                      return (\n                        <button\n                          key={option.value}\n                          type=\"button\"\n                          onClick={() => handleQuickFilterToggle(section.key, option.value)}\n                          className={cn(\n                            \"h-8 px-3 text-xs font-medium border border-input bg-background\",\n                            \"-ml-px first:ml-0 first:rounded-l last:rounded-r\",\n                            \"transition-colors\",\n                            isActive\n                              ? \"relative z-[1] border-primary bg-primary/10 text-primary\"\n                              : \"hover:bg-muted\"\n                          )}\n                        >\n                          {option.label}\n                        </button>\n                      )\n                    })}\n                  </div>\n                </fieldset>\n              )\n            })}\n          </div>\n        </div>\n      ) : null}\n\n      {/* 테이블 (원본 유지) */}\n      <TableContainer className=\"flex-1 h-[calc(100vh-3rem)] overflow-y-auto overflow-x-auto rounded-lg border px-1\">\n        <Table\n          className=\"table-fixed w-full\"\n          style={{ width: table.getTotalSize() }}\n          stickyHeader\n        >\n          <colgroup>\n            {table.getVisibleLeafColumns().map((col) => (\n              <col key={col.id} style={{ width: col.getSize() }} />\n            ))}\n          </colgroup>\n\n          <TableHeader>\n            {table.getHeaderGroups().map((headerGroup) => (\n              <TableRow key={headerGroup.id}>\n                {headerGroup.headers.map((header) => {\n                  const canSort = header.column.getCanSort()\n                  const sortDir = header.column.getIsSorted()\n                  const columnMeta = header.column.columnDef.meta\n                  const headerAlignment = resolveHeaderAlignment(columnMeta)\n                  const headerJustifyClass = getJustifyClass(headerAlignment)\n                  const headerContent = flexRender(header.column.columnDef.header, header.getContext())\n                  const w = header.getSize()\n\n                  return (\n                    <TableHead\n                      key={header.id}\n                      className={cn(\"relative whitespace-nowrap sticky top-0 z-10 bg-muted\")}\n                      style={{ width: w, minWidth: w, maxWidth: w }}\n                    >\n                      {canSort ? (\n                        <button\n                          className={cn(\"flex w-full items-center gap-1\", headerJustifyClass)}\n                          onClick={header.column.getToggleSortingHandler()}\n                        >\n                          {headerContent}\n                          {sortDir === \"asc\" && <IconChevronUp className=\"size-4\" />}\n                          {sortDir === \"desc\" && <IconChevronDown className=\"size-4\" />}\n                        </button>\n                      ) : (\n                        <div className={cn(\"flex w-full items-center gap-1\", headerJustifyClass)}>\n                          {headerContent}\n                        </div>\n                      )}\n\n                      <span\n                        onMouseDown={header.getResizeHandler()}\n                        onTouchStart={header.getResizeHandler()}\n                        className=\"absolute right-0 top-0 h-full w-1 cursor-col-resize select-none touch-none\"\n                      />\n                    </TableHead>\n                  )\n                })}\n              </TableRow>\n            ))}\n          </TableHeader>\n\n          <TableBody>{renderTableBody()}</TableBody>\n        </Table>\n      </TableContainer>\n\n      {/* 하단 상태/페이징 (원본과 동일) */}\n      <div className=\"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between\">\n        <div className=\"flex flex-wrap items-center gap-2 text-xs text-muted-foreground\">\n          <span>\n            Showing {numberFormatter.format(currentPageSize)} of {numberFormatter.format(filteredTotal)} rows\n            {filteredTotal !== totalLoaded ? ` (filtered from ${numberFormatter.format(totalLoaded)})` : \"\"}\n          </span>\n          <span>(Updated {isLoadingRows ? \"just now\" : lastUpdatedLabel ?? \"just now\"})</span>\n        </div>\n\n        <div className=\"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-end\">\n          <div className=\"flex items-center gap-1\">\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => table.setPageIndex(0)}\n              disabled={!table.getCanPreviousPage()}\n              aria-label=\"Go to first page\"\n            >\n              <IconChevronsLeft className=\"size-4\" />\n            </Button>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => table.previousPage()}\n              disabled={!table.getCanPreviousPage()}\n              aria-label=\"Go to previous page\"\n            >\n              <IconChevronLeft className=\"size-4\" />\n            </Button>\n            <span className=\"px-2 text-sm font-medium\">\n              Page {numberFormatter.format(currentPage)} of {numberFormatter.format(totalPages)}\n            </span>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => table.nextPage()}\n              disabled={!table.getCanNextPage()}\n              aria-label=\"Go to next page\"\n            >\n              <IconChevronRight className=\"size-4\" />\n            </Button>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => table.setPageIndex(totalPages - 1)}\n              disabled={!table.getCanNextPage()}\n              aria-label=\"Go to last page\"\n            >\n              <IconChevronsRight className=\"size-4\" />\n            </Button>\n          </div>\n\n          <label className=\"flex items-center gap-2 text-sm\">\n            <span className=\"text-xs text-muted-foreground\">Rows per page</span>\n            <select\n              value={pagination.pageSize}\n              onChange={(e) => table.setPageSize(Number(e.target.value))}\n              className=\"h-8 rounded-md border border-input bg-background px-2 text-sm text-foreground shadow-sm focus:outline-none focus:ring-2 focus:ring-ring/50\"\n            >\n              {[15, 25, 30, 40, 50].map((size) => (\n                <option key={size} value={size}>\n                  {size}\n                </option>\n              ))}\n            </select>\n          </label>\n        </div>\n      </div>\n    </section>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}