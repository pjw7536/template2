{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/tailwind/src/auth.config.js"],"sourcesContent":["import OAuthProvider from \"next-auth/providers/oauth\"\n\nconst issuer = process.env.AUTH_OIDC_ISSUER\n  ?? `${process.env.NEXTAUTH_URL ?? \"http://localhost:3000\"}/api/mock-oidc`\n\nconst clientId = process.env.AUTH_OIDC_ID ?? \"demo-client-id\"\nconst clientSecret = process.env.AUTH_OIDC_SECRET ?? \"demo-client-secret\"\n\n/** @type {import(\"next-auth\").NextAuthConfig} */\nconst authConfig = {\n  trustHost: true,\n  secret: process.env.NEXTAUTH_SECRET ?? \"change-me-in-production\",\n  session: {\n    strategy: \"jwt\",\n  },\n  providers: [\n    OAuthProvider({\n      id: \"oidc\",\n      name: \"OpenID Connect\",\n      type: \"oauth\",\n      wellKnown: `${issuer}/.well-known/openid-configuration`,\n      clientId,\n      clientSecret,\n      authorization: {\n        params: {\n          scope: \"openid profile email\",\n        },\n      },\n      checks: [\"state\"],\n      profile(profile) {\n        return {\n          id: profile.sub ?? \"sandbox-user\",\n          name: profile.name ?? profile.preferred_username ?? \"Sandbox User\",\n          email: profile.email ?? \"sandbox@example.com\",\n          image: profile.picture ?? null,\n        }\n      },\n    }),\n  ],\n  callbacks: {\n    authorized({ auth, request }) {\n      const isLoggedIn = !!auth?.user\n      const isAuthRoute = request.nextUrl.pathname.startsWith(\"/login\")\n\n      if (isAuthRoute) {\n        return true\n      }\n\n      return isLoggedIn\n    },\n    async jwt({ token, account, profile }) {\n      if (account?.provider === \"oidc\" && profile) {\n        token.id = profile.sub ?? token.id\n      }\n      return token\n    },\n    async session({ session, token }) {\n      if (token?.id) {\n        session.user = session.user ?? {}\n        session.user.id = token.id\n      }\n      return session\n    },\n  },\n}\n\nexport default authConfig\n"],"names":[],"mappings":";;;;;;;;;;AAEA,MAAM,SAAS,QAAQ,GAAG,CAAC,gBAAgB,IACtC,GAAG,QAAQ,GAAG,CAAC,YAAY,IAAI,wBAAwB,cAAc,CAAC;AAE3E,MAAM,WAAW,QAAQ,GAAG,CAAC,YAAY,IAAI;AAC7C,MAAM,eAAe,QAAQ,GAAG,CAAC,gBAAgB,IAAI;AAErD,+CAA+C,GAC/C,MAAM,aAAa;IACjB,WAAW;IACX,QAAQ,QAAQ,GAAG,CAAC,eAAe,IAAI;IACvC,SAAS;QACP,UAAU;IACZ;IACA,WAAW;QACT,cAAc;YACZ,IAAI;YACJ,MAAM;YACN,MAAM;YACN,WAAW,GAAG,OAAO,iCAAiC,CAAC;YACvD;YACA;YACA,eAAe;gBACb,QAAQ;oBACN,OAAO;gBACT;YACF;YACA,QAAQ;gBAAC;aAAQ;YACjB,SAAQ,OAAO;gBACb,OAAO;oBACL,IAAI,QAAQ,GAAG,IAAI;oBACnB,MAAM,QAAQ,IAAI,IAAI,QAAQ,kBAAkB,IAAI;oBACpD,OAAO,QAAQ,KAAK,IAAI;oBACxB,OAAO,QAAQ,OAAO,IAAI;gBAC5B;YACF;QACF;KACD;IACD,WAAW;QACT,YAAW,EAAE,IAAI,EAAE,OAAO,EAAE;YAC1B,MAAM,aAAa,CAAC,CAAC,MAAM;YAC3B,MAAM,cAAc,QAAQ,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC;YAExD,IAAI,aAAa;gBACf,OAAO;YACT;YAEA,OAAO;QACT;QACA,MAAM,KAAI,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE;YACnC,IAAI,SAAS,aAAa,UAAU,SAAS;gBAC3C,MAAM,EAAE,GAAG,QAAQ,GAAG,IAAI,MAAM,EAAE;YACpC;YACA,OAAO;QACT;QACA,MAAM,SAAQ,EAAE,OAAO,EAAE,KAAK,EAAE;YAC9B,IAAI,OAAO,IAAI;gBACb,QAAQ,IAAI,GAAG,QAAQ,IAAI,IAAI,CAAC;gBAChC,QAAQ,IAAI,CAAC,EAAE,GAAG,MAAM,EAAE;YAC5B;YACA,OAAO;QACT;IACF;AACF;uCAEe"}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/tailwind/src/auth.js"],"sourcesContent":["import NextAuth from \"next-auth\"\n\nimport authConfig from \"@/auth.config\"\n\nexport const { auth, handlers, signIn, signOut } = NextAuth(authConfig)\nexport const { GET, POST } = handlers\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;AAEA;;;AAEO,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,sYAAQ,EAAC,oJAAU;AAC/D,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG"}},
    {"offset": {"line": 114, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/tailwind/src/middleware.js"],"sourcesContent":["import { NextResponse } from \"next/server\"\n\nimport { auth } from \"@/auth\"\n\nconst PUBLIC_PATHS = [\n  \"/login\",\n]\n\nconst API_PATHS = [\n  \"/api/auth\",\n  \"/api/mock-oidc\",\n]\n\nexport default auth((request) => {\n  const { nextUrl } = request\n  const { pathname } = nextUrl\n\n  const isPublicRoute = PUBLIC_PATHS.some((path) => pathname === path)\n    || pathname.startsWith(\"/_next\")\n    || pathname.startsWith(\"/favicon\")\n    || pathname.startsWith(\"/images\")\n    || pathname.startsWith(\"/public\")\n\n  const isAuthApi = API_PATHS.some((path) => pathname.startsWith(path))\n\n  if (isAuthApi) {\n    return NextResponse.next()\n  }\n\n  if (!request.auth && !isPublicRoute) {\n    const loginUrl = new URL(\"/login\", nextUrl.origin)\n    if (pathname && pathname !== \"/\") {\n      loginUrl.searchParams.set(\"callbackUrl\", `${pathname}${nextUrl.search}`)\n    }\n    return NextResponse.redirect(loginUrl)\n  }\n\n  if (request.auth && pathname === \"/login\") {\n    return NextResponse.redirect(new URL(\"/\", nextUrl.origin))\n  }\n\n  return NextResponse.next()\n})\n\nexport const config = {\n  matcher: [\n    \"/((?!api/mock-oidc|api/auth|_next/static|_next/image|favicon.ico).*)\",\n  ],\n}\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AAEA;;;AAEA,MAAM,eAAe;IACnB;CACD;AAED,MAAM,YAAY;IAChB;IACA;CACD;uCAEc,IAAA,uIAAI,EAAC,CAAC;IACnB,MAAM,EAAE,OAAO,EAAE,GAAG;IACpB,MAAM,EAAE,QAAQ,EAAE,GAAG;IAErB,MAAM,gBAAgB,aAAa,IAAI,CAAC,CAAC,OAAS,aAAa,SAC1D,SAAS,UAAU,CAAC,aACpB,SAAS,UAAU,CAAC,eACpB,SAAS,UAAU,CAAC,cACpB,SAAS,UAAU,CAAC;IAEzB,MAAM,YAAY,UAAU,IAAI,CAAC,CAAC,OAAS,SAAS,UAAU,CAAC;IAE/D,IAAI,WAAW;QACb,OAAO,iaAAY,CAAC,IAAI;IAC1B;IAEA,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,eAAe;QACnC,MAAM,WAAW,IAAI,IAAI,UAAU,QAAQ,MAAM;QACjD,IAAI,YAAY,aAAa,KAAK;YAChC,SAAS,YAAY,CAAC,GAAG,CAAC,eAAe,GAAG,WAAW,QAAQ,MAAM,EAAE;QACzE;QACA,OAAO,iaAAY,CAAC,QAAQ,CAAC;IAC/B;IAEA,IAAI,QAAQ,IAAI,IAAI,aAAa,UAAU;QACzC,OAAO,iaAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,KAAK,QAAQ,MAAM;IAC1D;IAEA,OAAO,iaAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,SAAS;QACP;KACD;AACH"}}]
}