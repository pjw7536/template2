{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/pjw75/tailwind/src/features/auth/openid/constants.js"],"sourcesContent":["// src/features/auth/openid/constants.js\nexport const OPENID_SESSION_KEY = \"demo.openid.session\";\n\n// 컴포넌트 간 세션 변경을 브로드캐스트하기 위한 사용자 정의 이벤트 이름\nexport const OPENID_SESSION_CHANGE_EVENT = \"openid:session-change\";\n\nexport const DUMMY_OPENID_PROVIDER = {\n  id: \"corporate-openid\",\n  name: \"Corporate OpenID Provider\",\n  description:\n    \"Simulated OpenID Connect identity provider for the offline dashboard.\",\n};\n"],"names":[],"mappings":"AAAA,wCAAwC;;;;;;;;;AACjC,MAAM,qBAAqB;AAG3B,MAAM,8BAA8B;AAEpC,MAAM,wBAAwB;IACnC,IAAI;IACJ,MAAM;IACN,aACE;AACJ","debugId":null}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["file:///home/pjw75/tailwind/src/features/auth/openid/openIdClient.js"],"sourcesContent":["// src/features/auth/openid/openIdClient.js\nimport {\n  OPENID_SESSION_CHANGE_EVENT,\n  OPENID_SESSION_KEY,\n} from \"./constants\";\n\nfunction emitSessionChange(detail) {\n  if (typeof window === \"undefined\") {\n    return;\n  }\n\n  const event = new CustomEvent(OPENID_SESSION_CHANGE_EVENT, {\n    detail,\n  });\n\n  window.dispatchEvent(event);\n}\n\nasync function parseResponse(response) {\n  const payload = await response.json();\n\n  if (!response.ok || !payload?.success) {\n    const error = payload?.error ?? \"OpenID 인증에 실패했습니다.\";\n    throw new Error(error);\n  }\n\n  return payload;\n}\n\nexport async function authenticateWithDummyProvider({\n  providerId,\n  returnUrl = \"/\",\n}) {\n  const response = await fetch(\"/api/auth/login\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ providerId, returnUrl }),\n  });\n\n  const payload = await parseResponse(response);\n\n  if (typeof window !== \"undefined\") {\n    sessionStorage.setItem(OPENID_SESSION_KEY, JSON.stringify(payload));\n    emitSessionChange(payload);\n  }\n\n  return payload;\n}\n\nexport function loadStoredSession() {\n  if (typeof window === \"undefined\") {\n    return null;\n  }\n\n  const raw = sessionStorage.getItem(OPENID_SESSION_KEY);\n  if (!raw) {\n    return null;\n  }\n\n  try {\n    return JSON.parse(raw);\n  } catch (error) {\n    console.error(\"Failed to parse stored OpenID session\", error);\n    return null;\n  }\n}\n\nexport function clearStoredSession() {\n  if (typeof window === \"undefined\") {\n    return;\n  }\n\n  sessionStorage.removeItem(OPENID_SESSION_KEY);\n  emitSessionChange(null);\n}\n"],"names":[],"mappings":"AAAA,2CAA2C;;;;;;;;;AAC3C;;AAKA,SAAS,kBAAkB,MAAM;IAC/B;;IAIA,MAAM,QAAQ,IAAI,YAAY,4LAA2B,EAAE;QACzD;IACF;IAEA,OAAO,aAAa,CAAC;AACvB;AAEA,eAAe,cAAc,QAAQ;IACnC,MAAM,UAAU,MAAM,SAAS,IAAI;IAEnC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,SAAS;QACrC,MAAM,QAAQ,SAAS,SAAS;QAChC,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO;AACT;AAEO,eAAe,8BAA8B,EAClD,UAAU,EACV,YAAY,GAAG,EAChB;IACC,MAAM,WAAW,MAAM,MAAM,mBAAmB;QAC9C,QAAQ;QACR,SAAS;YACP,gBAAgB;QAClB;QACA,MAAM,KAAK,SAAS,CAAC;YAAE;YAAY;QAAU;IAC/C;IAEA,MAAM,UAAU,MAAM,cAAc;IAEpC,wCAAmC;QACjC,eAAe,OAAO,CAAC,mLAAkB,EAAE,KAAK,SAAS,CAAC;QAC1D,kBAAkB;IACpB;IAEA,OAAO;AACT;AAEO,SAAS;IACd;;IAIA,MAAM,MAAM,eAAe,OAAO,CAAC,mLAAkB;IACrD,IAAI,CAAC,KAAK;QACR,OAAO;IACT;IAEA,IAAI;QACF,OAAO,KAAK,KAAK,CAAC;IACpB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yCAAyC;QACvD,OAAO;IACT;AACF;AAEO,SAAS;IACd;;IAIA,eAAe,UAAU,CAAC,mLAAkB;IAC5C,kBAAkB;AACpB","debugId":null}},
    {"offset": {"line": 99, "column": 0}, "map": {"version":3,"sources":["file:///home/pjw75/tailwind/src/app/page.jsx"],"sourcesContent":["\"use client\";\n\n// src/app/page.jsx\nimport Link from \"next/link\";\nimport { useEffect, useState } from \"react\";\n\nimport { Button } from \"@/components/ui/button\";\nimport {\n  DUMMY_OPENID_PROVIDER,\n  OPENID_SESSION_KEY,\n} from \"@/features/auth/openid/constants\";\nimport { loadStoredSession } from \"@/features/auth/openid/openIdClient\";\n\nexport default function Page() {\n  const [session, setSession] = useState(() => loadStoredSession());\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") {\n      return undefined;\n    }\n\n    const handleStorage = (event) => {\n      if (event.storageArea && event.storageArea !== sessionStorage) {\n        return;\n      }\n\n      if (event.key && event.key !== OPENID_SESSION_KEY) {\n        return;\n      }\n\n      setSession(loadStoredSession());\n    };\n\n    window.addEventListener(\"storage\", handleStorage);\n    return () => window.removeEventListener(\"storage\", handleStorage);\n  }, []);\n\n  return (\n    <section className=\"relative h-[600px] overflow-hidden rounded-xl border shadow-sm\">\n      <div\n        aria-hidden=\"true\"\n        className=\"absolute inset-0 bg-[url('/images/Wow-gif.gif')] bg-cover bg-center\"\n      />\n      <div\n        aria-hidden=\"true\"\n        className=\"absolute inset-0 bg-white/70 backdrop-blur-sm dark:bg-slate-950/70\"\n      />\n      <div className=\"relative z-10 grid gap-6 p-6\">\n        <div className=\"grid gap-4\">\n          <h1 className=\"text-3xl font-semibold tracking-tight\">Welcome</h1>\n          <p className=\"text-base text-muted-foreground\">\n            더미 OpenID SSO 로그인을 통해 데모 계정으로 대시보드를 체험할 수\n            있습니다. 폐쇄망 이전 시 실제 IdP 엔드포인트를 연결하면 동일한 흐름을\n            재사용할 수 있습니다.\n          </p>\n        </div>\n\n        {session ? (\n          <div className=\"max-w-md rounded-lg border bg-background/90 p-4 shadow-sm\">\n            <p className=\"font-medium\">현재 로그인된 사용자</p>\n            <ul className=\"mt-2 space-y-1 text-sm text-muted-foreground\">\n              <li>이름: {session.user?.name}</li>\n              <li>이메일: {session.user?.email}</li>\n              <li>토큰 만료: {session.tokens?.expiresAt}</li>\n            </ul>\n            <p className=\"mt-3 text-xs text-muted-foreground\">\n              실제 OpenID 프로바이더와 연동 시 토큰 저장 로직만 교체하면 됩니다.\n            </p>\n          </div>\n        ) : (\n          <div className=\"flex max-w-md flex-col gap-3 rounded-lg border border-dashed bg-background/90 p-4 shadow-sm\">\n            <p className=\"text-sm text-muted-foreground\">\n              아직 로그인되지 않았습니다. 아래 버튼을 눌러\n              {\" \"}\n              {DUMMY_OPENID_PROVIDER.name}에 연결하세요.\n            </p>\n            <Button asChild size=\"lg\" className=\"w-fit\">\n              <Link href=\"/login\">OpenID 로그인 페이지로 이동</Link>\n            </Button>\n          </div>\n        )}\n      </div>\n    </section>\n  );\n}\n"],"names":["c","_c","Link","useEffect","useState","Button","DUMMY_OPENID_PROVIDER","OPENID_SESSION_KEY","loadStoredSession","Page","$","$i","Symbol","for","session","setSession","_PageUseState","t0","t1","Page[useEffect()]","window","handleStorage","event","storageArea","sessionStorage","key","addEventListener","removeEventListener","t2","t3","t4","t5","user","name","email","tokens","expiresAt"],"mappings":";;;;;AAEA,mBAAA;AAAA,SAAAA,CAAA,IAAAC,EAAA;AACA,OAAOC,IAAI,MAAM,WAAW;AAC5B,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,SAASC,MAAM,QAAQ,wBAAwB;AAC/C,SACEC,qBAAqB,EACrBC,kBAAkB,QACb,kCAAkC;AACzC,SAASC,iBAAiB,QAAQ,qCAAqC;;;AAXvE,YAAY;;;;;;;AAaG;;IAAA,MAAAE,CAAA,GAAAT,qZAAA,EAAA;IAAA,IAAAS,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IACb,MAAA,CAAAI,OAAA,EAAAC,UAAA,CAAA,OAA8BX,0YAAQ,EAACY,aAAyB,CAAC;IAAC,IAAAC,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAAR,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAExDI,EAAA,GAAA,CAAA;YAAA,qBAAAE,CAAA;gBACR,IAAI,OAAOC,MAAM,KAAK,WAAW;;gBAIjC,MAAAC,aAAA,GAAsB;oBAAA,sCAAAC,KAAA;wBACpB,IAAIA,KAAK,CAAAC,WAAoD,IAApCD,KAAK,CAAAC,WAAY,KAAKC,cAAc,EAAA;4BAAA;wBAAA;wBAI7D,IAAIF,KAAK,CAAAG,GAAwC,IAAhCH,KAAK,CAAAG,GAAI,KAAKlB,mLAAkB,EAAA;4BAAA;wBAAA;wBAIjDQ,UAAU,KAACP,qLAAiB,CAAC,CAAC,CAAC;oBAAA;gBAAA,CAAA,CAAA,oCAChC;gBAEDY,MAAM,CAAAM,gBAAiB,CAAC,SAAS,EAAEL,aAAa,CAAC;gBAAA,OAC1C,IAAMD,MAAM,CAAAO,mBAAoB,CAAC,SAAS,EAAEN,aAAa,CAAC;YAAA;SAAA,CAAA,CAAA,oBAClE;QAAEH,EAAA,GAAA,EAAE;QAAAR,CAAA,CAAA,EAAA,GAAAO,EAAA;QAAAP,CAAA,CAAA,EAAA,GAAAQ,EAAA;IAAA,OAAA;QAAAD,EAAA,GAAAP,CAAA,CAAA,EAAA;QAAAQ,EAAA,GAAAR,CAAA,CAAA,EAAA;IAAA;QAnBLP,2YAAS,EAACc,EAmBT,EAAEC,EAAE,CAAC;IAAA,IAAAU,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAAnB,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAIFe,EAAA,iBAAA,8ZAAA,GAGE;YAFY,WAAM,IAAN,MAAM;YACR,SAAqE,EAArE,qEAAqE,GAC/E;;;;;;QACFC,EAAA,iBAAA,8ZAAA,GAGE;YAFY,WAAM,IAAN,MAAM;YACR,SAAoE,EAApE,oEAAoE,GAC9E;;;;;;QAAAnB,CAAA,CAAA,EAAA,GAAAkB,EAAA;QAAAlB,CAAA,CAAA,EAAA,GAAAmB,EAAA;IAAA,OAAA;QAAAD,EAAA,GAAAlB,CAAA,CAAA,EAAA;QAAAmB,EAAA,GAAAnB,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAoB,EAAA;IAAA,IAAApB,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAEAiB,EAAA,iBAAA,8ZAAA,GAOM;YAPS,SAAY,EAAZ,YAAY;;8BACzB,8ZAAA,EAAkE;oBAApD,SAAuC,EAAvC,uCAAuC;8BAAC,OAAO,EAA7D,EAAkE;;;;;;8BAClE,8ZAAA,CAII;oBAJS,SAAiC,EAAjC,iCAAiC;8BAAC,gGAI/C,EAJA,CAII,CACN,EAPA,GAOM;;;;;;;;;;;;QAAApB,CAAA,CAAA,EAAA,GAAAoB,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAApB,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAqB,EAAA;IAAA,IAAArB,CAAA,CAAA,EAAA,KAAAI,OAAA,EAAA;QAjBViB,EAAA,iBAAA,8ZAAA,OA4CU;YA5CS,SAAgE,EAAhE,gEAAgE,CACjF;;gBAAAH,EAGC,CACD;gBAAAC,EAGC;8BACD,8ZAAA,GAkCM;oBAlCS,SAA8B,EAA9B,8BAA8B,CAC3C;;wBAAAC,EAOK,CAEJ;wBAAAhB,OAAO,iBACN,8ZAAA,GAUM;4BAVS,SAA2D,EAA3D,2DAA2D;;8CACxE,8ZAAA,CAA0C;oCAA7B,SAAa,EAAb,aAAa;8CAAC,WAAW,EAAtC,CAA0C;;;;;;8CAC1C,8ZAAA,EAIK;oCAJS,SAA8C,EAA9C,8CAA8C;;sDAC1D,8ZAAA,EAAiC;;gDAA7B,IAAK;gDAAAA,OAAO,CAAAkB,IAAW,EAAAC,IAAD,CAAE,EAA5B,EAAiC;;;;;;;sDACjC,8ZAAA,EAAmC;;gDAA/B,KAAM;gDAAAnB,OAAO,CAAAkB,IAAY,EAAAE,KAAD,CAAE,EAA9B,EAAmC;;;;;;;sDACnC,8ZAAA,EAA2C;;gDAAvC,OAAQ;gDAAApB,OAAO,CAAAqB,MAAkB,EAAAC,SAAD,CAAE,EAAtC,EAA2C,CAC7C,EAJA,EAIK;;;;;;;;;;;;;8CACL,8ZAAA,CAEI;oCAFS,SAAoC,EAApC,oCAAoC;8CAAC,yCAElD,EAFA,CAEI,CACN,EAVA,GAUM,CAYP;;;;;;;;;;;iDAVC,8ZAAA,GASM;4BATS,SAA6F,EAA7F,6FAA6F;;8CAC1G,8ZAAA,CAII;oCAJS,SAA+B,EAA/B,+BAA+B;;wCAAC,yBAE1C;wCAAA,GAAE,CACF;wCAAA9B,sLAAqB,CAAA2B,IAAI;wCAAE,QAC9B,EAJA,CAII;;;;;;;8CACJ,8ZAAC,2JAAM;oCAAC,OAAO,CAAP,CAAA,IAAM,CAAC;oCAAM,IAAI,EAAJ,IAAI;oCAAW,SAAO,EAAP,OAAO;4DACzC,8ZAAC,2YAAI;wCAAM,IAAQ,EAAR,QAAQ;kDAAC,kBAAkB,EAArC,IAAI,CACP,EAFC,MAAM,CAGT,EATA,GASM,CACR,CACF,EAlCA,GAkCM,CACR,EA5CA,OA4CU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QAAAvB,CAAA,CAAA,EAAA,GAAAI,OAAA;QAAAJ,CAAA,CAAA,EAAA,GAAAqB,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAArB,CAAA,CAAA,EAAA;IAAA;IAAA,OA5CVqB,EA4CU;AAAA;GArECtB,KAAA;;AAAA,SAAAO,cAAA;IAAA,WACgCR,qLAAiB,CAAC,CAAC;AAAA","ignoreList":[],"debugId":null}}]
}