# ==============================================================================
# Vite 웹 개발(OIDC) 환경 변수 (단독 사용)
# ------------------------------------------------------------------------------
# docker-compose.dev.oidc.yml 의 web 서비스에서 사용합니다.
# - Fast Refresh, 폴링, API/Airflow 엔드포인트 등을 한 파일에 모두 정의합니다.
# - 실 IdP 연동 시 nginx 프록시(TLS 종단)를 경유하도록 API/Airflow 경로를 지정합니다.
# ==============================================================================

# --- Build/runtime toggles ----------------------------------------------------
NODE_ENV=development
NPM_CONFIG_PRODUCTION=false
# Docker for Mac/WSL 환경에서 폴링 방식으로 변경해 파일 변경 감지 안정화
CHOKIDAR_USEPOLLING=true
WATCHPACK_POLLING=true

# --- API endpoint wiring -----------------------------------------------------
# 브라우저는 nginx 를 통해 /api 로 호출하여 쿠키 및 리디렉션을 동일 출처로 유지합니다.
VITE_BACKEND_URL=/api
# 컨테이너 간 내부 통신용 백엔드 주소
BACKEND_API_URL=http://api:8000

# --- Airflow integration -----------------------------------------------------
# 내부 호출은 Docker 네트워크의 서비스명을 사용하고, 브라우저는 nginx의 /airflow 경로를 사용합니다.
AIRFLOW_BASE_URL=http://airflow-webserver:8080
VITE_AIRFLOW_BASE_URL=/airflow
AIRFLOW_USERNAME=airflow
AIRFLOW_PASSWORD=airflow
# 메타 태그에서 공유용 절대 URL을 구성할 때 사용
VITE_SITE_URL=http://localhost:5173
