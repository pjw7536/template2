# ============================================================================
# Django development overrides
# docker-compose.dev.yml에서 api.common.env 다음에 로드됩니다.
# ============================================================================

# --- Runtime metadata -------------------------------------------------------
ENVIRONMENT=development
# 개발 환경용 시크릿 (prod에서는 반드시 교체)
DJANGO_SECRET_KEY=local-dev-secret
# 디버그/ALLOWED_HOSTS: 로컬 프록시(web, api, localhost) 허용
DJANGO_DEBUG=1
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1,api

# --- Frontend ↔ Backend URL 매핑 -------------------------------------------
# docker-compose.dev 기준, 브라우저는 nginx( http://localhost ) 경유
FRONTEND_BASE_URL=http://localhost
DJANGO_CORS_ALLOWED_ORIGINS=http://localhost,http://localhost:3000
DJANGO_CSRF_TRUSTED_ORIGINS=http://localhost,http://localhost:3000
# 리버스 프록시에서 API는 /api 접두사로 노출
PUBLIC_API_BASE_URL=/api

# --- Security toggles -------------------------------------------------------
# 개발 중에는 HTTPS 강제를 모두 해제
DJANGO_SECURE=0
SECURE_SSL_REDIRECT=0
SECURE_HSTS_SECONDS=0
SECURE_HSTS_INCLUDE_SUBDOMAINS=0
SECURE_HSTS_PRELOAD=0

# --- Auth helpers -----------------------------------------------------------
# 로컬 개발용 FastAPI ADFS 더미 서버와 연동
GOOGLE_CLIENT_ID=dummy-client
GOOGLE_CLIENT_SECRET=dummy-secret
GOOGLE_OAUTH_AUTH_ENDPOINT=http://localhost:9000/authorize
GOOGLE_OAUTH_TOKEN_ENDPOINT=http://adfs:9000/token
GOOGLE_OAUTH_USERINFO_ENDPOINT=http://adfs:9000/userinfo
