# ============================================================================== 
# Django 개발 환경 전용 Override
# ------------------------------------------------------------------------------
# docker-compose.dev.yml 에서 api.common.env 다음에 로드됩니다.
# - FastAPI 기반 더미 ADFS 서버 연동
# - 코드 변경 사항을 runserver 핫리로드로 즉시 반영
# - HTTP 로컬 리버스 프록시(default.conf) 전제
# ============================================================================== 

# --- Runtime metadata --------------------------------------------------------
ENVIRONMENT=development
DJANGO_SECRET_KEY=local-dev-secret
DJANGO_DEBUG=1
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1,api

# --- Frontend ↔ Backend URL --------------------------------------------------
# 개발용 Nginx :80 에서 / (프론트엔드) 와 /api (Django)를 동시에 노출
FRONTEND_BASE_URL=http://localhost
DJANGO_CORS_ALLOWED_ORIGINS=http://localhost
DJANGO_CSRF_TRUSTED_ORIGINS=http://localhost
PUBLIC_API_BASE_URL=/api

# --- Security toggles --------------------------------------------------------
# 로컬 개발 시 HTTPS 관련 강제 옵션을 모두 해제합니다.
DJANGO_SECURE=0
SECURE_SSL_REDIRECT=0
SECURE_HSTS_SECONDS=0
SECURE_HSTS_INCLUDE_SUBDOMAINS=0
SECURE_HSTS_PRELOAD=0

# --- Dummy ADFS (FastAPI) ----------------------------------------------------
# docker-compose.dev 의 adfs 서비스(포트 9000)를 기준으로 설정
OIDC_CLIENT_ID=dummy-client
OIDC_ISSUER=http://localhost:9000/adfs
ADFS_AUTH_URL=http://localhost:9000/authorize
ADFS_LOGOUT_URL=http://localhost:9000/logout
OIDC_REDIRECT_URI=http://localhost/api/auth/google/callback/
ADFS_CER_PATH=/app/dummy_adfs_public.cer
ALLOWED_REDIRECT_HOSTS=appleds.net,appleds.net:8003
