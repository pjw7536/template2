# ============================================================================
# Django development overrides
# docker-compose.dev.yml에서 api.common.env 다음에 로드됩니다.
# ============================================================================

# --- Runtime metadata -------------------------------------------------------
ENVIRONMENT=development
# 개발 환경용 시크릿 (prod에서는 반드시 교체)
DJANGO_SECRET_KEY=local-dev-secret
# 디버그/ALLOWED_HOSTS: 로컬 프록시(web, api, localhost) 허용
DJANGO_DEBUG=1
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1,api

# --- Frontend ↔ Backend URL 매핑 -------------------------------------------
# docker-compose.dev 기준, 브라우저는 nginx( http://localhost ) 경유
FRONTEND_BASE_URL=http://localhost
DJANGO_CORS_ALLOWED_ORIGINS=http://localhost,http://localhost:3000
DJANGO_CSRF_TRUSTED_ORIGINS=http://localhost,http://localhost:3000

# --- Security toggles -------------------------------------------------------
# 개발 중에는 HTTPS 강제를 모두 해제
DJANGO_SECURE=0
SECURE_SSL_REDIRECT=0
SECURE_HSTS_SECONDS=0
SECURE_HSTS_INCLUDE_SUBDOMAINS=0
SECURE_HSTS_PRELOAD=0

# --- Auth helpers -----------------------------------------------------------
# 외부 IdP 없이도 더미 로그인 라우트를 사용 가능하도록 유지
OIDC_DEV_LOGIN_ENABLED=1
