# ============================================================================== 
# Next.js 개발 환경 변수
# ------------------------------------------------------------------------------
# docker-compose.dev.yml 의 web 서비스에서 사용합니다.
# - 파일 시스템 감지(polling)와 React Fast Refresh 를 위한 개발 설정
# - HTTP 로컬 프록시(nginx default.conf) 전제
# - FastAPI 더미 ADFS 와 Django 개발 서버에 직접 연결
# ============================================================================== 

# --- Build/runtime toggles ----------------------------------------------------
NODE_ENV=development
NPM_CONFIG_PRODUCTION=false
NEXT_TELEMETRY_DISABLED=1
# Docker for Mac/WSL 환경에서 폴링 방식으로 변경해 파일 변경 감지 안정화
CHOKIDAR_USEPOLLING=true
WATCHPACK_POLLING=true

# --- Auth metadata -----------------------------------------------------------
# NextAuth 콜백 URL. 개발 리버스 프록시(http://localhost)를 기준으로 설정합니다.
NEXTAUTH_URL=http://localhost
NEXTAUTH_SECRET=please-change-me

# --- API endpoint wiring -----------------------------------------------------
# 브라우저는 nginx 를 경유하여 /api 로 프록시되고, 서버사이드 요청은 컨테이너 DNS 사용
NEXT_PUBLIC_BACKEND_URL=/api
BACKEND_API_URL=http://api:8000
