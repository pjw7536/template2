# ==============================================================================
# Vite 웹 개발 환경 변수
# ------------------------------------------------------------------------------
# docker-compose.dev.yml 의 web 서비스에서 사용합니다.
# - React Fast Refresh 와 파일 변경 감지 안정화를 위한 개발 설정
# - nginx 프록시(default.conf) 기준으로 API/Airflow 연결
# ==============================================================================

# --- Build/runtime toggles ----------------------------------------------------
NODE_ENV=development
NPM_CONFIG_PRODUCTION=false
# Docker for Mac/WSL 환경에서 폴링 방식으로 변경해 파일 변경 감지 안정화
CHOKIDAR_USEPOLLING=true
WATCHPACK_POLLING=true

# --- API endpoint wiring -----------------------------------------------------
# Vite 클라이언트에서 사용할 백엔드 API 베이스 URL
VITE_BACKEND_URL=http://localhost:8000
# 컨테이너 간 내부 통신용 백엔드 주소
BACKEND_API_URL=http://api:8000
VITE_MINIO_ENDPOINT=https://stg.plane.samsungds.net/minio

# --- Assistant chat endpoint -------------------------------------------------
# 개발 환경에서는 sources(출처)까지 포함하는 Django assistant 엔드포인트를 우선 사용합니다.
VITE_ASSISTANT_API_URL=/api/v1/assistant/chat

# --- Airflow integration -----------------------------------------------------
# 내부 호출은 Docker 네트워크의 서비스명을 사용하고, 브라우저는 nginx의 /airflow 경로를 사용합니다.
AIRFLOW_BASE_URL=http://airflow-webserver:8080
VITE_AIRFLOW_BASE_URL=/airflow
AIRFLOW_USERNAME=airflow
AIRFLOW_PASSWORD=airflow
# 메타 태그에서 공유용 절대 URL을 구성할 때 사용
VITE_SITE_URL=http://localhost:5173
