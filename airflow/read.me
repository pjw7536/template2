1) 폴더 구조
airflow-offline/
├─ docker-compose.yaml              # (당신이 보낸 compose 거의 그대로, 약간만 보강)
├─ Dockerfile                       # code-server을 로컬 tar.gz로 설치
├─ .env.example                     # 샘플 환경파일
├─ vendor/
│  ├─ code-server-4.105.1-linux-amd64.tar.gz
│  └─ images/
│     ├─ apache-airflow-2.11.0.tar   # docker save로 만든 tar
│     └─ postgres-16.tar             # docker save로 만든 tar
└─ scripts/
   ├─ online_fetch.sh               # (온라인 머신에서 1회 실행)
   └─ offline_load.sh               # (오프라인 머신에서 1회 실행)

2) 온라인에서 한 번만 준비 (이미지/설치파일 “같이 폴더 안에 넣기”)
scripts/online_fetch.sh — 인터넷 되는 곳에서 실행:

3) 오프라인에서 1회 로드 후 빌드/실행
scripts/offline_load.sh — 인터넷 안되는 쪽에서 실행: